!!! 5
%html.no-js
  %head
    %meta{ :charset => 'utf-8' }/
    %meta{ 'http-equiv' => 'X-UA-Compatible', :content => 'IE=edge,chrome=1' }/

    %title
      - unless current_article.nil?
        = current_article.title
      - else
        Will Schenk

    %meta{ :name => 'description', :content => '' }/
    %meta{ :name => 'viewport', :content => 'width=device-width' }/
    = stylesheet_link_tag 'application'
    %link{ rel: "stylesheet", href: "//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/default.min.css" }
    = feed_tag :atom, "#{blog.options.prefix.to_s}/feed.xml", title: "Atom Feed"

  %body
    - if current_article
      .container-fluid
        .article-title
          %h1= current_article.title
          %h2= current_article.data['subtitle']
    - else
      .container-fluid
        .main-title
          %h1 Will Schenk
          %h2 Lets build things
          
    .container
      .row
        .content
          ~ yield

    .container-fluid
      .row
        .col-sm-4
          %h2 Recent Articles

          %ul
            - blog.articles[0..5].each do |article|
              %li
                = link_to article.title, article
                %span= article.date.strftime( '%b %e')

        .col-sm-4
          %h2 Tags
          %ol
            - blog.tags.each do |tag, articles|
              %li= link_to "#{tag} (#{articles.size})", tag_path(tag)
    %script{ src: "//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js" }
    :javascript
      hljs.initHighlightingOnLoad();