<!DOCTYPE html>
<html class='no-js'>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <title>Personal information from only a URL | Blank Page Tech</title>
    <meta name="site" content="Blank Page Tech" />
    <meta name="og:site_name" content="Blank Page Tech" />
    <meta name="title" content="Personal information from only a URL" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Personal information from only a URL" />
    <meta name="twitter:site" content="@wschenk" />
    <meta name="og:title" content="Personal information from only a URL" />
    <meta content='width=device-width' name='viewport'>
    <link href="../stylesheets/application-18143f85.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/webicons-da5ecace.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/socicons-d8ab83dd.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/animate-8335fea6.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/googlecode-d3629bf4.css" rel="stylesheet" type="text/css" />
    <link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/default.min.css' rel='stylesheet'>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body data-spy='scroll' data-target='.sidebar'>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
      <div class='visible-xs-block'>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapsable">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">
        Blank Page Tech
      </a>
        
      </div>
    </div>
    <div class='hidden-xs'>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapsable">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">
        Technology for the blank page
      </a>
        
      </div>
    </div>
    <div class="collapse navbar-collapse" id="navbar-collapsable">
      <ul class="nav navbar-nav navbar-right foo" id="menu">
      <li>
      <a href="/articles/">
        Articles
      </a>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Topics <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li>
      <a href="/tags/howto/">
        Howtos
      </a>
    </li>
    <li>
      <a href="/tags/overview/">
        Overviews
      </a>
    </li>
    <li>
      <a href="/tags/product/">
        Product
      </a>
    </li>
    <li>
      <a href="/tags/tools/">
        Tools
      </a>
    </li>
    <li>
      <a href="/tags/socialinvestigator/">
        Social Investigator
      </a>
    </li>
    <li>
      <a href="/tags/ruby/">
        Ruby & Rails
      </a>
    </li>
    
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tags <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li>
      <a href="/bootstrap-advanced-grid-tricks/">
        bootstrap (1)
      </a>
    </li>
    <li>
      <a href="/tags/bots/">
        bots (2)
      </a>
    </li>
    <li>
      <a href="/using-rake-for-dataflow-programming-and-data-science/">
        data (1)
      </a>
    </li>
    <li>
      <a href="/pulling-data-out-of-google-analytics/">
        googleanalytics (1)
      </a>
    </li>
    <li>
      <a href="/tags/happy_seed/">
        happy_seed (3)
      </a>
    </li>
    <li>
      <a href="/tags/howto/">
        howto (13)
      </a>
    </li>
    <li>
      <a href="/tags/middleman/">
        middleman (4)
      </a>
    </li>
    <li>
      <a href="/setting-up-devise-with-twitter-and-facebook-and-other-omniauth-schemes-without-email-addresses/">
        oauth (1)
      </a>
    </li>
    <li>
      <a href="/making-yosemite-faster/">
        osx (1)
      </a>
    </li>
    <li>
      <a href="/tags/overview/">
        overview (4)
      </a>
    </li>
    <li>
      <a href="/tags/product/">
        product (2)
      </a>
    </li>
    <li>
      <a href="/tags/rails/">
        rails (3)
      </a>
    </li>
    <li>
      <a href="/using-rake-for-dataflow-programming-and-data-science/">
        rake (1)
      </a>
    </li>
    <li>
      <a href="/how-to-track-your-coworkers/">
        redis (1)
      </a>
    </li>
    <li>
      <a href="/tags/ruby/">
        ruby (14)
      </a>
    </li>
    <li>
      <a href="/tags/socialinvestigator/">
        socialinvestigator (4)
      </a>
    </li>
    <li>
      <a href="/dateslice-writing-rails-extensions/">
        sql (1)
      </a>
    </li>
    <li>
      <a href="/field-of-dreams-is-25-years-old-and-hasn-t-aged-well/">
        startupmyths (1)
      </a>
    </li>
    <li>
      <a href="/slow-data-and-fast-sites/">
        static_sites (1)
      </a>
    </li>
    <li>
      <a href="/setting-up-testing/">
        testing (1)
      </a>
    </li>
    <li>
      <a href="/making-a-command-line-utility-with-gems-and-thor/">
        thor (1)
      </a>
    </li>
    <li>
      <a href="/tags/tools/">
        tools (5)
      </a>
    </li>
    <li>
      <a href="/tags/toys/">
        toys (2)
      </a>
    </li>
    
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Archives <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li>
      <a href="/slow-data-and-fast-sites/">
        May 2015 (1)
      </a>
    </li>
    <li>
      <a href="/why-engineers-build-crappy-products/">
        Feb 2015 (1)
      </a>
    </li>
    <li>
      <a href="/2015/01/">
        Jan 2015 (2)
      </a>
    </li>
    <li>
      <a href="/2014/12/">
        Dec 2014 (5)
      </a>
    </li>
    <li>
      <a href="/2014/11/">
        Nov 2014 (10)
      </a>
    </li>
    <li>
      <a href="/how-to-track-your-coworkers/">
        Oct 2014 (1)
      </a>
    </li>
    
      </ul>
    </li>
    
    </ul>
    
    </div>
    
    </div>
    </nav>
    <div class='banner'>
      <img class="fadeInDown animated" src="../images/core_memory-e2a557c9.jpg" />
    </div>
    <div class='article-header lighter '>
      <h1>Personal information from only a URL</h1>
      <h2>what can automated tools find out</h2>
      <div class='tags'>
        <div class='tag'><a class="btn btn-primary" href="/tags/ruby/">ruby</a></div>
        <div class='tag'><a class="btn btn-primary" href="/tags/socialinvestigator/">socialinvestigator</a></div>
      </div>
      <a href='#comment_shower' id='comment_shower_scroll'>
        <span class='disqus-comment-count' data-disqus-identifier='2014-11-14-personal-information-from-only-a-url.html'></span>
      </a>
    </div>
    <div class='content'>
      <div class='row'>
        <div class='sidebar'>
          <ul class='nav toc' data-offset-top='400' data-spy='affix'>
            <li><a href="#top">Personal information from only a URL</a></li>
            <li><a href="#what-does-it-do">What does it do</a></li>
            <li><a href="#finding-domain-info">Finding Domain info</a></li>
            <li><a href="#finding-ip-and-hosting-information">Finding IP and hosting information</a></li>
            <li><a href="#page-meta-data">Page meta data</a></li>
            <li><a href="#twitter-cards">Twitter Cards</a></li>
            <li><a href="#open-graph">Open Graph</a></li>
            <li><a href="#social-page-links">Social Page Links</a></li>
            <li><a href="#parsing-twitter-shares-and-intents">Parsing Twitter Shares and Intents</a></li>
            <li><a href="#technology-finger-prints">Technology Finger Prints</a></li>
            <li><a href="#installation">Installation</a></li>
          </ul>
        </div>
        <div class='article' id='top'>
          <p>Ever wonder what you can find out by looking at a url?  How about physical addresses, server location, emails, phone numbers, various links to other profiles (which can in turn be structurally scraped), technology stack, and more. </p>
          
          <pre><code>$ socialinvestigator net page http://willschenk.com/bio&#x000A;              domain: willschenk.com&#x000A;          created_on: 2014-10-31&#x000A;          expires_on: 2015-10-31&#x000A;          updated_on: 2014-10-31&#x000A;      registrar_name: ENOM, INC.&#x000A;       registrar_url: www.enom.com&#x000A;  registrant_contact: &#x000A;                     name: WILL SCHENK&#x000A;             organization: HAPPYFUNCORP&#x000A;                  address: 18 BRIDGE STREET, 2E&#x000A;                     city: BROOKLYN&#x000A;                      zip: 11201&#x000A;                    state: NY&#x000A;             country_code: US&#x000A;                    phone: +91.76976430&#x000A;                    email: WSCHENK@GMAIL.COM&#x000A;         server_name: ec2-54-225-218-167.compute-1.amazonaws.com&#x000A;      server_country: United States&#x000A;     server_location: Ashburn, Virginia&#x000A;     server_latitude: 39.0437&#x000A;    server_longitude: -77.4875&#x000A;     server_ip_owner: Amazon Technologies Inc. (AT-88-Z)&#x000A;              emails: wschenk@gmail.com, will@happyfuncorp.com&#x000A;               title: Will Schenk&#x000A;         description: The blog of Will Schenk&#x000A;      twitter_author: wschenk&#x000A;         twitter_ids: wschenk&#x000A;          responsive: true&#x000A;            rss_feed: /feed.rss&#x000A;           atom_feed: /feed&#x000A;       twitter_links: https://twitter.com/wschenk, http://twitter.com/wschenk&#x000A;      linkedin_links: http://www.linkedin.com/pub/will-schenk/0/266/420/&#x000A;     instagram_links: http://instagram.com/wschenk&#x000A;        github_links: https://github.com/wschenk&#x000A;        technologies: Chartbeat, Font Awesome, Google Analytics, RackCache, Ruby&#x000A;</code></pre>
          
          <p><em>Standalone code as <a href="https://gist.github.com/wschenk/7d333acb59b7768f2637">a gist</a>, the complete socialinvestigator code <a href="https://github.com/sublimeguile/socialinvestigator">available on github</a> or and is easily installable on your machine as a gem.</em></p>
          
          <pre><code>$ gem install socialinvestigator&#x000A;$ socialinvestigator net get_apps_json&#x000A;$ socialinvestigator net page_info url&#x000A;</code></pre>
          
          <p>Poking around different urls can give you a sense of the corporate entities behind sites, who is actually involved, and help you track down people when you can&#39;t find them otherwise.  It&#39;s actually hard to figure out which URL to include on this post since the data seems so personal and yet people put it out there.  This takes the messy HTML that&#39;s out there and returns structured information that you can use to explore profiles on other sites in a way that can be totally automated.</p>
          
          <h2 id="what-does-it-do">What does it do</h2>
          
          <p>What this code does is to first search for DNS information to see who owns the domain and if there&#39;s any contact information associated with it.  It then looks at who owns the IP address and tries to locate where it is geographically.</p>
          
          <p>It then looks at the page itself to see <a href="http://ogp.me">Open Graph meta data</a>,<a href="https://dev.twitter.com/cards/overview">Twitter Card meta data</a> and other basic SEO tags.</p>
          
          <p>Finally, it looks inside the page for likely looking links to other social networks, and scans the page and HTTP metadata for clues about what underlying technology the site was built in.  (The metadata for the technology fingerprinting is from the <a href="https://github.com/ElbertF/Wappalyzer">Wappalyzer project</a> which I cobbled together a basic ruby engine for.)</p>
          
          <p>And finally it takes all of the facts that it has collected, figured out which ones take priority, and prints them out.</p>
          
          <h2 id="finding-domain-info">Finding Domain info</h2>
          
          <p>The first thing that we do is look for the URL and try to find the domain name.  The difference between a hostname and domain name is subtle, partly in some cases they are interchangeable, and partly because DNS is the <a href="http://codex.happyfuncorp.com/slides/93#1">second most amazing thing about the Internet</a>.  (The most truly mind-blowing thing clearly <a href="http://en.wikipedia.org/wiki/Default_route">the default route</a>, the <em>life, liberty, and pursuit of happiness</em> of the Internet.)  A globe spanning, highly distributed database that lets 2.5 billion internet users look up any of the 4 billion potential server addresses in less than 50ms without any real centralized control isn&#39;t exactly straightforward.</p>
          
          <p>DNS manages this complexity by delegating authority for different branches of the entire namespace.  The first level is called the Top Level Domains, most famous being <em>.com</em>, when you buy a domain name from someone they delegate authority over that name space to you.  These can go deep, especially with large global organizations.  The first thing we do is look for that <strong>Start of Authority</strong> (SOA) record for machine named in the URL.  If we can&#39;t find one for that machine, we look up the chain until we find something.</p>
          
          <p>This looks like:</p>
          
          <pre><code class="rb">require &#39;dnsruby&#39;&#x000A;&#x000A;hostname = URI(url).hostname&#x000A;&#x000A;def find_domain( hostname )&#x000A;  puts &quot;Looking for SOA of #{hostname}&quot;&#x000A;  dns = Dnsruby::Resolver.new&#x000A;  soa = dns.query( hostname, &quot;SOA&quot; ).answer.select do |rr|&#x000A;    rr.is_a? Dnsruby::RR::IN::SOA&#x000A;  end&#x000A;&#x000A;  return hostname if soa.length &gt; 0&#x000A;&#x000A;  # Go from &quot;news.bbc.co.uk&quot; -&gt; &quot;bbc.co.uk&quot;&#x000A;  parts = hostname.split( /\./ )&#x000A;  return nil if parts.length &lt;= 2&#x000A;&#x000A;  find_domain( parts.slice(1,100).join( &quot;.&quot; ) )&#x000A;end&#x000A;</code></pre>
          
          <p>Once we&#39;ve found the domain, we query the <code>whois</code> databases to find out who has owns the domain name.  </p>
          
          <pre><code class="rb">require &#39;whois&#39;&#x000A;&#x000A;whois = Whois.lookup( domain )&#x000A;&#x000A;puts &quot;Expires: #{whois.expires_on}&quot;&#x000A;# Print all contact information we find&#x000A;whois.contacts.each { |c| puts c }&#x000A;</code></pre>
          
          <p>One of the challenges here is that there is no standardized format that there is no standardized way of parsing <code>whois</code> responses.  The <code>whois</code> gem gives it a serious try:</p>
          
          <pre><code>$ ls -l `bundle show whois`/lib/whois/record/parser | wc -l&#x000A;     209&#x000A;</code></pre>
          
          <p>But there&#39;s over 500 different whois servers out there, so you won&#39;t always get a parseable response.  In that case we print out that we can&#39;t find a parser, and we store the unparsed response in the data object as <code>unparsed_whois</code>.</p>
          
          <pre><code class="rb">whois.parts.each do |p|&#x000A;  # Check for responses that we couldn&#39;t parse&#x000A;  if Whois::Record::Parser.parser_for(p).is_a? Whois::Record::Parser::Blank&#x000A;    puts &quot;Couldn&#39;t find a parser for #{p.host}:&quot;&#x000A;    puts p.body&#x000A;  end&#x000A;end&#x000A;</code></pre>
          
          <h2 id="finding-ip-and-hosting-information">Finding IP and hosting information</h2>
          
          <p>Now we look at the IP address, and then do a reverse lookup on it to see what the server machine name is.</p>
          
          <pre><code class="rb">ip_address = Dnsruby::Resolv.getaddress uri.host&#x000A;&#x000A;data.remember :ip_address, ip_address&#x000A;begin&#x000A;  data.remember :server_name, Dnsruby::Resolv.getname( ip_address )&#x000A;rescue Dnsruby::NXDomain&#x000A;  # Couldn&#39;t do the reverse lookup&#x000A;end&#x000A;</code></pre>
          
          <p>Sometimes interesting things are encoded in the server name, like if it&#39;s a Rackspace cloud server vs a Rackspace static server, but we make no attempt to interpret that string.</p>
          
          <p>Then we try and see where the IP address is located geographically, using <a href="http://freegeoip.net/">freegeoip.net</a>.  If you did a lot of this it would make sense to buy a more detailed database from <a href="https://www.maxmind.com/en/home">Maxmind</a> but for something quick and dirty this works.  Given that you need to follow the rules of the company you are in, it&#39;s interesting to see where the servers are located.</p>
          
          <pre><code class="rb">location_info = HTTParty.get(&#39;http://freegeoip.net/json/&#39; + ip_address)&#x000A;&#x000A;data.remember :server_country, location_info[&#39;country&#39;]&#x000A;data.remember :server_location, [location_info[&#39;city&#39;], location_info[&#39;region_name&#39;]].select { |x| x }.join( &quot;, &quot;)&#x000A;data.remember :server_latitude, location_info[&#39;latitude&#39;]&#x000A;data.remember :server_longitude, location_info[&#39;longitude&#39;]&#x000A;</code></pre>
          
          <p>We can also do a <code>whois</code> lookup on the IP address, to see who owns that IP block.  This should give us an idea of who is hosting the site.  Note that we don&#39;t even pretend to parse the <code>whois</code> response here in a clever way.</p>
          
          <pre><code class="rb">ip_whois = Whois.lookup ip_address&#x000A;&#x000A;ip_whois.to_s.each_line.select { |x| x=~/Organization/ }.each do |org|&#x000A;  if org =~ /Organization:\s*(.*)\n/&#x000A;    data.another :server_ip_owner, $1&#x000A;  end&#x000A;end&#x000A;</code></pre>
          
          <h2 id="page-meta-data">Page meta data</h2>
          
          <p>Now we load up the page, and look for some basic stuff.  The first thing that we do is load the <a href="http://en.wikipedia.org/wiki/Meta_element">meta tags</a> into something more accessible.</p>
          
          <pre><code class="rb">response = HTTParty.get url&#x000A;parsed = Nokogiri.parse response.body&#x000A;&#x000A;# Meta tags&#x000A;&#x000A;meta = {}&#x000A;parsed.css( &quot;meta[name]&quot; ).each do |t|&#x000A;  meta[t.attributes[&quot;name&quot;].value] = t.attributes[&quot;content&quot;].value if t.attributes[&quot;content&quot;]&#x000A;end&#x000A;&#x000A;parsed.css( &quot;meta[property]&quot; ).each do |t|&#x000A;  meta[t.attributes[&quot;property&quot;].value] = t.attributes[&quot;content&quot;].value&#x000A;end&#x000A;</code></pre>
          
          <p>Now we load up some basic SEO info, including if there are any feeds for this site&#39;s content.</p>
          
          <pre><code class="rb">data.remember( :author, meta[&#39;author&#39;] ) &#x000A;data.remember( :description, meta[&#39;description&#39;] ) &#x000A;data.remember( :keywords, meta[&#39;keywords&#39;] ) &#x000A;data.remember( :generator, meta[&#39;generator&#39;])&#x000A;data.remember( :responsive, true )  if meta[&quot;viewport&quot;] =~ /width=device-width/&#x000A;data.remember( :server, response.headers[&#39;server&#39;] )&#x000A;data.remember( :page_title, parsed.title )&#x000A;&#x000A;# RSS Feed:&#x000A;if feed = parsed.css( &#39;link[type=&quot;application/rss+xml&quot;]&#39; ).first&#x000A;  feed = feed.attributes[&#39;href&#39;].value&#x000A;  data.remember( :rss_feed, feed )&#x000A;end&#x000A;&#x000A;# Atom Feed:&#x000A;if feed = parsed.css( &#39;link[type=&quot;application/atom+xml&quot;]&#39; ).first&#x000A;  feed = feed.attributes[&#39;href&#39;].value&#x000A;  data.remember( :atom_feed, feed )&#x000A;end&#x000A;</code></pre>
          
          <h2 id="twitter-cards">Twitter Cards</h2>
          
          <p><a href="https://dev.twitter.com/cards/overview">Twitter Card meta data</a> is a way to control how your data gets displayed on twitter, which has the benefit of defining some summary meta data around the social graph.  One thing thing to note is that <code>twitter:creator</code> is the author of this page, while <code>twitter:site</code> is the twitter account for the overall site.</p>
          
          <pre><code class="rb">data.remember( :twitter_title, meta[&quot;twitter:title&quot;] ) &#x000A;data.remember( :twitter_creator, meta[&quot;twitter:creator&quot;] ) &#x000A;if /@(.*)/.match( meta[&quot;twitter:creator&quot;] )&#x000A;  data.another( :twitter_ids, $1 )&#x000A;end&#x000A;data.remember( :twitter_site_author, meta[&quot;twitter:site&quot;] )&#x000A;if /@(.*)/.match( meta[&quot;twitter:site&quot;] )&#x000A;  data.another( :twitter_ids, $1 )&#x000A;end&#x000A;data.remember( :twitter_image, meta[&quot;twitter:image&quot;] ) &#x000A;data.remember( :twitter_description, meta[&quot;twitter:description&quot;] )&#x000A;</code></pre>
          
          <h2 id="open-graph">Open Graph</h2>
          
          <p><a href="http://ogp.me">Open Graph meta data</a> is really about what your link looks like when someone shares it on Facebook.</p>
          
          <pre><code class="rb">data.remember( :og_title, meta[&quot;og:title&quot;] ) &#x000A;data.remember( :og_description, meta[&quot;og:description&quot;] )&#x000A;data.remember( :og_type, meta[&quot;og:type&quot;] ) &#x000A;data.remember( :og_image, meta[&quot;og:image&quot;] ) &#x000A;</code></pre>
          
          <h2 id="social-page-links">Social Page Links</h2>
          
          <p>We search for social links:</p>
          
          <table><thead>
          <tr>
          <th>Service</th>
          <th>Regex</th>
          </tr>
          </thead><tbody>
          <tr>
          <td>Email</td>
          <td><code>/mailto:(.*@.*\..*)/</code></td>
          </tr>
          <tr>
          <td>Twitter</td>
          <td><code>/twitter.com\/[^\/]*$/</code></td>
          </tr>
          <tr>
          <td>LinkedIn</td>
          <td><code>/linkedin.com/</code></td>
          </tr>
          <tr>
          <td>Instagram</td>
          <td><code>/instagram.com/</code></td>
          </tr>
          <tr>
          <td>Facebook</td>
          <td><code>/facebook.com\/[^\/]*$/</code></td>
          </tr>
          <tr>
          <td>Google+</td>
          <td><code>/plus.google.com\/[^\/]*$/</code></td>
          </tr>
          <tr>
          <td>Github</td>
          <td><code>/github.com\/[^\/]*$/</code></td>
          </tr>
          </tbody></table>
          
          <p>For Twitter, Facebook, and Google+ we are only letting through links that have a simple query string, since for the most part this means that it&#39;s the user&#39;s ID.</p>
          
          <h2 id="parsing-twitter-shares-and-intents">Parsing Twitter Shares and Intents</h2>
          
          <p>We then look for Twitter Share links, and try and parse out the user names found in there.</p>
          
          <pre><code class="rb"># Look for twitter shared links&#x000A;&#x000A;twitter_shared = matching_links( parsed, /twitter.com\/share/ )&#x000A;&#x000A;twitter_shared.each do |l|&#x000A;  text = l[&#39;data-text&#39;]&#x000A;&#x000A;  # See if there&#39;s a &quot;by @user&quot; in the text&#x000A;  if /by\s*@([^\s]*)/.match text&#x000A;    data.another( :twitter_ids, $1 )&#x000A;    data.remember( :twitter_by, $1 ) &#x000A;  end&#x000A;&#x000A;  # Look for all &quot;@usernames&quot; in the text&#x000A;  if text&#x000A;    text.split.select { |x| x =~ /@\s*/ }.each do |id|&#x000A;      data.another( :twitter_ids, id.slice( 1,100 ) ) # We don&#39;t want the @&#x000A;    end&#x000A;  end&#x000A;&#x000A;  # See if there&#39;s a via link on the anchor tag&#x000A;  if l[&#39;data-via&#39;]&#x000A;    data.another( :twitter_ids, l[&#39;data-via&#39;])&#x000A;  end&#x000A;&#x000A;  possible_via = URI.decode( (URI(l[&#39;href&#39;]).query) || &quot;&quot; ).split( /&amp;amp;/ ).collect { |x| x.split( /=/  ) }.select { |x| x[0] == &#39;via&#39; }&#x000A;  if possible_via.size &gt; 0&#x000A;    data.another( :twitter_ids, possible_via[0][1] )&#x000A;  end&#x000A;end&#x000A;</code></pre>
          
          <p>There are also twitter intent links:</p>
          
          <pre><code class="rb">twitter_intent = hrefs( matching_links( parsed, /twitter.com\/intent/ ) )&#x000A;&#x000A;twitter_intent.each do |t|&#x000A;  URI.decode( URI(t.gsub( / /, &quot;+&quot; )).query ).split( /&amp;/ ).select do |x| &#x000A;    x =~ /via/&#x000A;  end.collect do |x| &#x000A;    x.gsub( /via=/, &quot;&quot; )&#x000A;  end.each do |via|&#x000A;    data.another( :twitter_ids, via )&#x000A;  end&#x000A;end&#x000A;</code></pre>
          
          <h2 id="technology-finger-prints">Technology Finger Prints</h2>
          
          <p>The final thing we do is to load the <code>apps.json</code> file from <a href="https://github.com/ElbertF/Wappalyzer">Wappalyzer</a> which is a cross-platform utility that uncovers the technologies used on websites.  This has a list of regex for the header tags, meta tags, scripts and other parts of the html to make guesses about which technology is in place.  What is in place is very rudimentary, but it gives a general sense of what is used to made the site.</p>
          
          <h2 id="installation">Installation</h2>
          
          <p>The standalone code as <a href="https://gist.github.com/wschenk/7d333acb59b7768f2637">a gist</a>, and you can check out the complete <a href="https://github.com/sublimeguile/socialinvestigator">socialinvestigator code on github</a>.  To run this on your machine:</p>
          
          <pre><code>$ gem install socialinvestigator&#x000A;$ socialinvestigator net get_apps_json&#x000A;$ socialinvestigator net page_info http://willschenk.com/bio&#x000A;</code></pre>
          
          <p>It may take a while to get the responses.  If you want to see everything it&#39;s doing, use the <code>--debug</code> switch</p>
          
          <pre><code>$ socialinvestigator net page_info http://willschenk.com/bio --debug&#x000A;</code></pre>
          
          <p>The reverse lookup can take a while, and if you want to turn that off:</p>
          
          <pre><code>$ socialinvestigator net page_info http://willschenk.com/bio --noreverse&#x000A;</code></pre>
        </div>
        <div class='navigation' data-offset-top='400' data-spy='affix'>
          <div class='next'>
            <p>
              Next in
              <a href="/tag/Chronological.html">Chronological</a>
            </p>
            <p class='title'><a href="/embedding-3d-models-on-your-page/">Embedding 3d models on your page</a></p>
            <p>
              Next in
              <a href="/tag/Ruby.html">Ruby</a>
              <a href="/tag/Socialinvestigator.html">Socialinvestigator</a>
            </p>
            <p class='title'><a href="/scripting-twitter/">Scripting Twitter: Collecting Data and Writing Bots</a></p>
          </div>
          <div class='prev'>
            <p>
              Previously in
              <a href="/tag/Chronological.html">Chronological</a>
            </p>
            <p class='title'><a href="/bot-design-patterns/">Bot Design Patterns</a></p>
            <p>
              Previously in
              <a href="/tag/Ruby.html">Ruby</a>
              <a href="/tag/Socialinvestigator.html">Socialinvestigator</a>
            </p>
            <p class='title'><a href="/making-a-command-line-utility-with-gems-and-thor/">Making a command line utility with gems and thor</a></p>
          </div>
        </div>
      </div>
      <div class="row article_footer">
        <div class="comments">
            <a href="#" id="comment_shower">
              <span class="socicon socicon-disqus fgcolor"></span>
              <span class="disqus-comment-count" data-disqus-identifier="2014-11-14-personal-information-from-only-a-url.html">Be the first to comment.</span>
            </a>
        </div>
        <div class="sharing">
          <a href="http://www.twitter.com/share?url=http://willschenk.com//personal-information-from-only-a-url/&amp;text=Personal information from only a URL by @wschenk" title="Share this post on Twitter" data-lang="en" onclick="return !window.open(this.href, 'Twitter', 'width=640,height=300')"><span class="socicon socicon-twitter fgcolor"></span></a>
      
          <a target="_blank" onclick="return !window.open(this.href, 'Facebook', 'width=640,height=300')" href="http://www.facebook.com/sharer/sharer.php?u=http://willschenk.com//personal-information-from-only-a-url/" title="Share this post on Facebook"><span class="socicon socicon-facebook fgcolor"></span></a>
      
          <a href="http://plus.google.com/share?url=http://willschenk.com//personal-information-from-only-a-url/" target="_blank" onclick="return !window.open(this.href, 'Google +', 'width=640,height=300')" title="Share this post on Google +"><span class="socicon socicon-google fgcolor"></span></a>
        </div>
      </div>
        <div class="comment_row">
          <div class="comment_universe">
            <div id="disqus_thread" class="col-sm-10 col-sm-offset-1"></div>
          </div>
        </div>
    </div>
    <footer class='academy'>
      <div class='container'>
        <div class='row'>
          <div class='logo'>
            <a href='http://academy.happyfuncorp.com/'>
              <img class="img-responsive" src="../images/academy-logo-f112afa1.png" />
            </a>
          </div>
          <div class='body'>
            <h1>Come join us in person!</h1>
            <p>HFC Technology Academy is dedicated to teaching people the skills they need to succeed in the world of technology and startups.</p>
            <p>The Academy is for anyone with the passion to learn about entrepreneurship, development, product management and other skills within the start-up community.</p>
            <h2><a href="http://academy.happyfuncorp.com/">Read about our free events</a></h2>
          </div>
        </div>
      </div>
    </footer>
    <footer class='footer lighter '>
      <div class='container'>
        <div class='row'>
          <div class='social'>
            <span>
              <a class='webicon twitter' href='http://twitter.com/wschenk'></a>
            </span>
            <span>
              <a class='webicon tumblr' href='http://sublimeguile.com/'></a>
            </span>
            <span>
              <a class='webicon instagram' href='http://instagram.com/wschenk'></a>
            </span>
            <span>
              <a class='webicon linkedin' href='http://www.linkedin.com/pub/will-schenk/0/266/420/'></a>
            </span>
            <span>
              <a class='webicon github' href='https://github.com/wschenk'></a>
            </span>
            <span>
              <a class='webicon rss' href='http://willschenk.com/feed.xml'></a>
            </span>
            <span>
              <a class='webicon mail' href='mailto:will@happyfuncorp.com'></a>
            </span>
          </div>
          <div class='made_in_bk'>
            <h3>Made in Brooklyn, NY</h3>
          </div>
        </div>
      </div>
    </footer>
    <script src="../javascripts/application-87c4840f.js" type="text/javascript"></script><script src="../javascripts/modernizr-84a49412.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
    <script type="text/javascript">
      var _gaq=[['_setAccount','UA-56296045-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
    
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
      $(".article img").addClass( "img-responsive");
      $("iframe").map( function(e) {
        $(this).css( "max-width", $(this).width() );
        $(this).width( "100%" );
      });
      var _gaq=[['_setAccount','UA-56296045-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
      var disqus_shortname = 'willschenk';
        var disqus_identifier = '2014-11-14-personal-information-from-only-a-url.html';
            
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
      (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
  </body>
</html>
