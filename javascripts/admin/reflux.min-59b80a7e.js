!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Reflux=t()}}(function(){var t;return function e(t,n,i){function r(s,c){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return r(n?n:e)},f,f.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){"use strict";function n(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){}i.prototype._events=void 0,i.prototype.listeners=function(t){if(!this._events||!this._events[t])return[];if(this._events[t].fn)return[this._events[t].fn];for(var e=0,n=this._events[t].length,i=new Array(n);n>e;e++)i[e]=this._events[t][e].fn;return i},i.prototype.emit=function(t,e,n,i,r,o){if(!this._events||!this._events[t])return!1;var s,c,a=this._events[t],u=arguments.length;if("function"==typeof a.fn){switch(a.once&&this.removeListener(t,a.fn,!0),u){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,e),!0;case 3:return a.fn.call(a.context,e,n),!0;case 4:return a.fn.call(a.context,e,n,i),!0;case 5:return a.fn.call(a.context,e,n,i,r),!0;case 6:return a.fn.call(a.context,e,n,i,r,o),!0}for(c=1,s=new Array(u-1);u>c;c++)s[c-1]=arguments[c];a.fn.apply(a.context,s)}else{var f,l=a.length;for(c=0;l>c;c++)switch(a[c].once&&this.removeListener(t,a[c].fn,!0),u){case 1:a[c].fn.call(a[c].context);break;case 2:a[c].fn.call(a[c].context,e);break;case 3:a[c].fn.call(a[c].context,e,n);break;default:if(!s)for(f=1,s=new Array(u-1);u>f;f++)s[f-1]=arguments[f];a[c].fn.apply(a[c].context,s)}}return!0},i.prototype.on=function(t,e,i){var r=new n(e,i||this);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],r]:this._events[t].push(r):this._events[t]=r,this},i.prototype.once=function(t,e,i){var r=new n(e,i||this,!0);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],r]:this._events[t].push(r):this._events[t]=r,this},i.prototype.removeListener=function(t,e,n){if(!this._events||!this._events[t])return this;var i=this._events[t],r=[];if(e&&(i.fn&&(i.fn!==e||n&&!i.once)&&r.push(i),!i.fn))for(var o=0,s=i.length;s>o;o++)(i[o].fn!==e||n&&!i[o].once)&&r.push(i[o]);return r.length?this._events[t]=1===r.length?r[0]:r:delete this._events[t],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[t]:this._events={},this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.EventEmitter=i,i.EventEmitter2=i,i.EventEmitter3=i,e.exports=i},{}],2:[function(e,n){(function(e){!function(e,i,r){i[e]=i[e]||r(),"undefined"!=typeof n&&n.exports?n.exports=i[e]:"function"==typeof t&&t.amd&&t(function(){return i[e]})}("Promise","undefined"!=typeof e?e:this,function(){"use strict";function t(t,e){h.add(t,e),l||(l=d(h.drain))}function e(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e?e:!1}function n(){for(var t=0;t<this.chain.length;t++)i(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function i(t,n,i){var r,o;try{n===!1?i.reject(t.msg):(r=n===!0?t.msg:n.call(void 0,t.msg),r===i.promise?i.reject(TypeError("Promise-chain cycle")):(o=e(r))?o.call(r,i.resolve,i.reject):i.resolve(r))}catch(s){i.reject(s)}}function r(i){var s,a,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(s=e(i))?(a=new c(u),s.call(i,function(){r.apply(a,arguments)},function(){o.apply(a,arguments)})):(u.msg=i,u.state=1,u.chain.length>0&&t(n,u))}catch(f){o.call(a||new c(u),f)}}}function o(e){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=e,i.state=2,i.chain.length>0&&t(n,i))}function s(t,e,n,i){for(var r=0;r<e.length;r++)!function(r){t.resolve(e[r]).then(function(t){n(r,t)},i)}(r)}function c(t){this.def=t,this.triggered=!1}function a(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new a(this);this.then=function(e,r){var o={success:"function"==typeof e?e:!0,failure:"function"==typeof r?r:!1};return o.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");o.resolve=t,o.reject=e}),i.chain.push(o),0!==i.state&&t(n,i),o.promise},this["catch"]=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){r.call(i,t)},function(t){o.call(i,t)})}catch(s){o.call(i,s)}}var f,l,h,p=Object.prototype.toString,d="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),f=function(t,e,n,i){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:i!==!1})}}catch(v){f=function(t,e,n){return t[e]=n,t}}h=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,i;return{add:function(r,o){i=new t(r,o),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var t=e;for(e=n=l=void 0;t;)t.fn.call(t.self),t=t.next}}}();var m=f({},"constructor",u,!1);return u.prototype=m,f(m,"__NPO__",0,!1),f(u,"resolve",function(t){var e=this;return t&&"object"==typeof t&&1===t.__NPO__?t:new e(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),f(u,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),f(u,"all",function(t){var e=this;return"[object Array]"!=p.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var r=t.length,o=Array(r),c=0;s(e,t,function(t,e){o[t]=e,++c===r&&n(o)},i)})}),f(u,"race",function(t){var e=this;return"[object Array]"!=p.call(t)?e.reject(TypeError("Not an array")):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");s(e,t,function(t,e){n(e)},i)})}),u})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e){e.exports={}},{}],4:[function(t,e,n){n.createdStores=[],n.createdActions=[],n.reset=function(){for(;n.createdStores.length;)n.createdStores.pop();for(;n.createdActions.length;)n.createdActions.pop()}},{}],5:[function(t,e){var n=t("./utils"),i=t("./joins").instanceJoinCreator,r=function(t){for(var e,n=0,i={};n<(t.children||[]).length;++n)e=t.children[n],t[e]&&(i[e]=t[e]);return i},o=function(t){var e={};for(var i in t){var s=t[i],c=r(s),a=o(c);e[i]=s;for(var u in a){var f=a[u];e[i+n.capitalize(u)]=f}}return e};e.exports={hasListener:function(t){for(var e,n,i,r=0;r<(this.subscriptions||[]).length;++r)for(i=[].concat(this.subscriptions[r].listenable),e=0;e<i.length;e++)if(n=i[e],n===t||n.hasListener&&n.hasListener(t))return!0;return!1},listenToMany:function(t){var e=o(t);for(var i in e){var r=n.callbackName(i),s=this[r]?r:this[i]?i:void 0;s&&this.listenTo(e[i],s,this[r+"Default"]||this[s+"Default"]||s)}},validateListening:function(t){return t===this?"Listener is not able to listen to itself":n.isFunction(t.listen)?t.hasListener&&t.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:t+" is missing a listen method"},listenTo:function(t,e,i){var r,o,s,c=this.subscriptions=this.subscriptions||[];return n.throwIf(this.validateListening(t)),this.fetchInitialState(t,i),r=t.listen(this[e]||e,this),o=function(){var t=c.indexOf(s);n.throwIf(-1===t,"Tried to remove listen already gone from subscriptions list!"),c.splice(t,1),r()},s={stop:o,listenable:t},c.push(s),s},stopListeningTo:function(t){for(var e,i=0,r=this.subscriptions||[];i<r.length;i++)if(e=r[i],e.listenable===t)return e.stop(),n.throwIf(-1!==r.indexOf(e),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var t,e=this.subscriptions||[];t=e.length;)e[0].stop(),n.throwIf(e.length!==t-1,"Failed to remove listen from subscriptions list!")},fetchInitialState:function(t,e){e=e&&this[e]||e;var i=this;if(n.isFunction(e)&&n.isFunction(t.getInitialState)){var r=t.getInitialState();r&&n.isFunction(r.then)?r.then(function(){e.apply(i,arguments)}):e.call(this,r)}},joinTrailing:i("last"),joinLeading:i("first"),joinConcat:i("all"),joinStrict:i("strict")}},{"./joins":15,"./utils":19}],6:[function(t,e){var n=t("./utils"),i=t("./ListenerMethods");e.exports=n.extend({componentWillUnmount:i.stopListeningToAll},i)},{"./ListenerMethods":5,"./utils":19}],7:[function(t,e){var n=t("./utils");e.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(t,e){e=e||this;var n=function(n){r||t.apply(e,n)},i=this,r=!1;return this.emitter.addListener(this.eventLabel,n),function(){r=!0,i.emitter.removeListener(i.eventLabel,n)}},promise:function(t){var e=this,n=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0;if(!n)throw new Error('Publisher must have "completed" and "failed" child publishers');t.then(function(t){return e.completed(t)},function(t){return e.failed(t)})},listenAndPromise:function(t,e){var n=this;e=e||this,this.willCallPromise=(this.willCallPromise||0)+1;var i=this.listen(function(){if(!t)throw new Error("Expected a function returning a promise but got "+t);var i=arguments,r=t.apply(e,i);return n.promise.call(n,r)},e);return function(){n.willCallPromise--,i.call(n)}},trigger:function(){var t=arguments,e=this.preEmit.apply(this,t);t=void 0===e?t:n.isArguments(e)?e:[].concat(e),this.shouldEmit.apply(this,t)&&this.emitter.emit(this.eventLabel,t)},triggerAsync:function(){var t=arguments,e=this;n.nextTick(function(){e.trigger.apply(e,t)})},triggerPromise:function(){var t=this,e=arguments,i=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0,r=n.createPromise(function(r,o){if(t.willCallPromise)return void n.nextTick(function(){var n=t.promise;t.promise=function(e){return e.then(r,o),t.promise=n,t.promise.apply(t,arguments)},t.trigger.apply(t,e)});if(i)var s=t.completed.listen(function(t){s(),c(),r(t)}),c=t.failed.listen(function(t){s(),c(),o(t)});t.triggerAsync.apply(t,e),i||r()});return r}}},{"./utils":19}],8:[function(t,e){e.exports={}},{}],9:[function(t,e){e.exports=function(t,e){for(var n in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var i=Object.getOwnPropertyDescriptor(e,n);if(!i.value||"function"!=typeof i.value||!e.hasOwnProperty(n))continue;t[n]=e[n].bind(t)}else{var r=e[n];if("function"!=typeof r||!e.hasOwnProperty(n))continue;t[n]=r.bind(t)}return t}},{}],10:[function(t,e){var n=t("./index"),i=t("./utils");e.exports=function(t,e){return{getInitialState:function(){return i.isFunction(t.getInitialState)?void 0===e?t.getInitialState():i.object([e],[t.getInitialState()]):{}},componentDidMount:function(){i.extend(this,n.ListenerMethods);var r=this,o=void 0===e?this.setState:function(t){("undefined"==typeof r.isMounted||r.isMounted()===!0)&&r.setState(i.object([e],[t]))};this.listenTo(t,o)},componentWillUnmount:n.ListenerMixin.componentWillUnmount}}},{"./index":14,"./utils":19}],11:[function(t,e){var n=t("./index"),i=t("./utils");e.exports=function(t,e,r){return r=i.isFunction(e)?e:r,{getInitialState:function(){if(i.isFunction(t.getInitialState)){if(i.isFunction(e))return r.call(this,t.getInitialState());var n=r.call(this,t.getInitialState());return n?i.object([e],[n]):{}}return{}},componentDidMount:function(){i.extend(this,n.ListenerMethods);var o=this,s=function(t){if(i.isFunction(e))o.setState(r.call(o,t));else{var n=r.call(o,t);o.setState(i.object([e],[n]))}};this.listenTo(t,s)},componentWillUnmount:n.ListenerMixin.componentWillUnmount}}},{"./index":14,"./utils":19}],12:[function(t,e){var n=t("./utils"),i=t("./index"),r=t("./Keep"),o={preEmit:1,shouldEmit:1},s=function(t){t=t||{},n.isObject(t)||(t={actionName:t});for(var e in i.ActionMethods)if(!o[e]&&i.PublisherMethods[e])throw new Error("Cannot override API method "+e+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var c in t)if(!o[c]&&i.PublisherMethods[c])throw new Error("Cannot override API method "+c+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");t.children=t.children||[],t.asyncResult&&(t.children=t.children.concat(["completed","failed"]));for(var a=0,u={};a<t.children.length;a++){var f=t.children[a];u[f]=s(f)}var l=n.extend({eventLabel:"action",emitter:new n.EventEmitter,_isAction:!0},i.PublisherMethods,i.ActionMethods,t),h=function(){return h[h.sync?"trigger":"triggerPromise"].apply(h,arguments)};return n.extend(h,u,l),r.createdActions.push(h),h};e.exports=s},{"./Keep":4,"./index":14,"./utils":19}],13:[function(t,e){var n=t("./utils"),i=t("./index"),r=t("./Keep"),o=t("./mixer"),s={preEmit:1,shouldEmit:1},c=t("./bindMethods");e.exports=function(t){function e(){var e,i=0;if(this.subscriptions=[],this.emitter=new n.EventEmitter,this.eventLabel="change",c(this,t),this.init&&n.isFunction(this.init)&&this.init(),this.listenables)for(e=[].concat(this.listenables);i<e.length;i++)this.listenToMany(e[i])}t=t||{};for(var a in i.StoreMethods)if(!s[a]&&(i.PublisherMethods[a]||i.ListenerMethods[a]))throw new Error("Cannot override API method "+a+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var u in t)if(!s[u]&&(i.PublisherMethods[u]||i.ListenerMethods[u]))throw new Error("Cannot override API method "+u+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");t=o(t),n.extend(e.prototype,i.ListenerMethods,i.PublisherMethods,i.StoreMethods,t);var f=new e;return r.createdStores.push(f),f}},{"./Keep":4,"./bindMethods":9,"./index":14,"./mixer":18,"./utils":19}],14:[function(t,e,n){n.ActionMethods=t("./ActionMethods"),n.ListenerMethods=t("./ListenerMethods"),n.PublisherMethods=t("./PublisherMethods"),n.StoreMethods=t("./StoreMethods"),n.createAction=t("./createAction"),n.createStore=t("./createStore"),n.connect=t("./connect"),n.connectFilter=t("./connectFilter"),n.ListenerMixin=t("./ListenerMixin"),n.listenTo=t("./listenTo"),n.listenToMany=t("./listenToMany");var i=t("./joins").staticJoinCreator;n.joinTrailing=n.all=i("last"),n.joinLeading=i("first"),n.joinStrict=i("strict"),n.joinConcat=i("all");var r=t("./utils");n.EventEmitter=r.EventEmitter,n.Promise=r.Promise,n.createActions=function(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],s=r.isObject(o)?i:o;e[s]=n.createAction(o)}return e},n.setEventEmitter=function(e){var i=t("./utils");n.EventEmitter=i.EventEmitter=e},n.setPromise=function(e){var i=t("./utils");n.Promise=i.Promise=e},n.setPromiseFactory=function(e){var n=t("./utils");n.createPromise=e},n.nextTick=function(e){var n=t("./utils");n.nextTick=e},n.__keep=t("./Keep"),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5")},{"./ActionMethods":3,"./Keep":4,"./ListenerMethods":5,"./ListenerMixin":6,"./PublisherMethods":7,"./StoreMethods":8,"./connect":10,"./connectFilter":11,"./createAction":12,"./createStore":13,"./joins":15,"./listenTo":16,"./listenToMany":17,"./utils":19}],15:[function(t,e,n){function i(t,e,n){return function(){var i,r=n.subscriptions,o=r?r.indexOf(t):-1;for(a.throwIf(-1===o,"Tried to remove join already gone from subscriptions list!"),i=0;i<e.length;i++)e[i]();r.splice(o,1)}}function r(t){t.listenablesEmitted=new Array(t.numberOfListenables),t.args=new Array(t.numberOfListenables)}function o(t,e){return function(){var n=c.call(arguments);if(e.listenablesEmitted[t])switch(e.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":e.args[t]=n;break;case"all":e.args[t].push(n)}else e.listenablesEmitted[t]=!0,e.args[t]="all"===e.strategy?[n]:n;s(e)}}function s(t){for(var e=0;e<t.numberOfListenables;e++)if(!t.listenablesEmitted[e])return;t.callback.apply(t.listener,t.args),r(t)}var c=Array.prototype.slice,a=t("./utils"),u=t("./createStore"),f={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};n.staticJoinCreator=function(t){return function(){var e=c.call(arguments);return u({init:function(){this[f[t]].apply(this,e.concat("triggerAsync"))}})}},n.instanceJoinCreator=function(t){return function(){a.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");var e,n,s=c.call(arguments),u=s.pop(),f=s.length,l={numberOfListenables:f,callback:this[u]||u,listener:this,strategy:t},h=[];for(e=0;f>e;e++)a.throwIf(this.validateListening(s[e]));for(e=0;f>e;e++)h.push(s[e].listen(o(e,l),this));return r(l),n={listenable:s},n.stop=i(n,h,this),this.subscriptions=(this.subscriptions||[]).concat(n),n}}},{"./createStore":13,"./utils":19}],16:[function(t,e){var n=t("./index");e.exports=function(t,e,i){return{componentDidMount:function(){for(var r in n.ListenerMethods)if(this[r]!==n.ListenerMethods[r]){if(this[r])throw"Can't have other property '"+r+"' when using Reflux.listenTo!";this[r]=n.ListenerMethods[r]}this.listenTo(t,e,i)},componentWillUnmount:n.ListenerMethods.stopListeningToAll}}},{"./index":14}],17:[function(t,e){var n=t("./index");e.exports=function(t){return{componentDidMount:function(){for(var e in n.ListenerMethods)if(this[e]!==n.ListenerMethods[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenToMany!";this[e]=n.ListenerMethods[e]}this.listenToMany(t)},componentWillUnmount:n.ListenerMethods.stopListeningToAll}}},{"./index":14}],18:[function(t,e){var n=t("./utils");e.exports=function(t){var e={init:[],preEmit:[],shouldEmit:[]},i=function r(t){var i={};return t.mixins&&t.mixins.forEach(function(t){n.extend(i,r(t))}),n.extend(i,t),Object.keys(e).forEach(function(n){t.hasOwnProperty(n)&&e[n].push(t[n])}),i}(t);return e.init.length>1&&(i.init=function(){var t=arguments;e.init.forEach(function(e){e.apply(this,t)},this)}),e.preEmit.length>1&&(i.preEmit=function(){return e.preEmit.reduce(function(t,e){var n=e.apply(this,t);return void 0===n?t:[n]}.bind(this),arguments)}),e.shouldEmit.length>1&&(i.shouldEmit=function(){var t=arguments;return!e.shouldEmit.some(function(e){return!e.apply(this,t)},this)}),Object.keys(e).forEach(function(t){1===e[t].length&&(i[t]=e[t][0])}),i}},{"./utils":19}],19:[function(t,e,n){var i=n.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t};n.extend=function(t){if(!i(t))return t;for(var e,n,r=1,o=arguments.length;o>r;r++){e=arguments[r];for(n in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s)}else t[n]=e[n]}return t},n.isFunction=function(t){return"function"==typeof t},n.EventEmitter=t("eventemitter3"),n.nextTick=function(t){setTimeout(t,0)},n.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},n.callbackName=function(t){return"on"+n.capitalize(t)},n.object=function(t,e){for(var n={},i=0;i<t.length;i++)n[t[i]]=e[i];return n},n.Promise=t("native-promise-only"),n.createPromise=function(t){return new n.Promise(t)},n.isArguments=function(t){return"object"==typeof t&&"callee"in t&&"number"==typeof t.length},n.throwIf=function(t,e){if(t)throw Error(e||t)}},{eventemitter3:1,"native-promise-only":2}]},{},[14])(14)});