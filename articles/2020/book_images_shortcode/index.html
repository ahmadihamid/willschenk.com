<!doctype html><html><head><title>Book Image Shortcode for Hugo</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=../../../css/theme.css><link rel=stylesheet href=../../../css/syntax.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-56296045-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script async defer data-domain=willschenk.com src=https://plausible.io/js/plausible.js></script><meta property="og:title" content="Book Image Shortcode for Hugo"><meta property="og:description" content="HappyFunCorp helped build Bookshop.org which is an online bookstore that distributes 30% of the book profits to independent bookstores in your area. Basically it&rsquo;s a place that people can link to that isn&rsquo;t Amazon, and that will kick some money to your local community.
I wanted to find a way to easily create links to these product pages, and show images if needed. There&rsquo;s no API to access bookshop (I asked on our internal dev channel) but I know how to write a script so I cobbled something together and made a hugo shortcode to render stuff on my blog."><meta property="og:type" content="article"><meta property="og:url" content="https://willschenk.com/articles/2020/book_images_shortcode/"><meta property="article:published_time" content="2020-04-28T00:00:00+00:00"><meta property="article:modified_time" content="2020-04-28T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Book Image Shortcode for Hugo"><meta name=twitter:description content="HappyFunCorp helped build Bookshop.org which is an online bookstore that distributes 30% of the book profits to independent bookstores in your area. Basically it&rsquo;s a place that people can link to that isn&rsquo;t Amazon, and that will kick some money to your local community.
I wanted to find a way to easily create links to these product pages, and show images if needed. There&rsquo;s no API to access bookshop (I asked on our internal dev channel) but I know how to write a script so I cobbled something together and made a hugo shortcode to render stuff on my blog."><meta name=twitter:site content="@wschenk"><style>.article p,.article ul,.article ol,.article table{max-width:45em}.article pre p{max-width:none;margin-top:-1.5rem}article.article p:first-child,.article blockquote{font-size:1.25em;font-weight:300;max-width:36em}.half-height-scroll{max-height:32em;overflow:scroll}</style></head><body><nav class="container my-5"><h1 class="pt-md-5 display-3"><a class=text-dark href=../../../>Will Schenk</a></h1><p><a class="text-dark h4 mr-3 font-weight-light" href=../../../articles/>Articles</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../contact>Contact</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../tags/>Tags</a>
<a href=../../../feed.xml class="mr-3 h4 text-light"><img src=../../../img/rss.svg alt=rss height=20 width=20></a>
<a href=https://twitter.com/@wschenk class="mr-3 h4 text-light"><img src=../../../img/twitter.svg alt=twitter height=20 width=20></a>
<a href=https://instagram.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/instagram.svg alt=instagram height=20 width=20></a>
<a href=https://github.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/github.svg alt=github height=20 width=20></a>
<a href=https://linkedin.com/in/will-schenk-420266 class="mr-3 h4 text-light"><img src=../../../img/linkedin.svg alt=linkedin height=20 width=20></a></p></nav><div class=container><h1 class=mt-5>Book Image Shortcode for Hugo</h1><h2 class="font-weight-light font-italic mb-3">Lets link to bookshop</h2><p class="text-muted mt-3"><a class=text-muted href=https://willschenk.com/articles/2020/book_images_shortcode/>Published April 28, 2020</a>
<a class=text-muted href=../../../tags/howto>#howto</a>
<a class=text-muted href=../../../tags/hugo>#hugo</a></p><article class="article mt-5"><p><a href=https://happyfuncorp.com/>HappyFunCorp</a> helped build <a href=https://bookshop.org/>Bookshop.org</a> which is an online bookstore that distributes 30% of the book profits to independent bookstores in your area. Basically it&rsquo;s a place that people can link to that isn&rsquo;t Amazon, and that will kick some money to your local community.</p><p>I wanted to find a way to easily create links to these product pages, and show images if needed. There&rsquo;s no API to access bookshop (I asked on our internal dev channel) but I know how to write a script so I cobbled something together and made a <code>hugo</code> shortcode to render stuff on my blog.</p><p><code>{{&lt; bookshop isbn="9780394719856&rdquo; />}}</code></p><p>Which will generate this, a embedded link to the product page of the book with the title pulled from the server:</p><p><a href=https://bookshop.org>The Gay Science: With a Prelude in Rhymes and an Appendix of Songs</a>
is a great book.</p><p>Or</p><pre><code>&#123;&#123;< bookshop isbn="9780394719856" img="left">&#125;&#125;
Here are my thoughts about this book
&#123;&#123;< /bookshop >&#125;&#125;</code>
</code></pre><p class=clearfix><a href=https://bookshop.org><img src=../../../articles/2020/book_images_shortcode/9780394719856.jpg class="float-left mr-3" style=max-height:200px alt="The Gay Science: With a Prelude in Rhymes and an Appendix of Songs"></a>
Here are my thoughts about this book.</p><p>We are going to use a two step process here. The first is to use a bash script to pull the data from the site and store it in <code>json</code> and <code>jpg</code>, and then a shortcode to format this in the webpage. Most of my posts are directories, so this will be part of the page bundles.</p><h2 id=get-the-book-information>Get the book information</h2><p>Since there&rsquo;s no API and I want to keep this simple, our strategy is to:</p><ol><li>Hit the search page with the ISBN</li><li>Use <code>awk</code> to pull put the link from the search results.</li><li>Load the product page.</li><li>Use an unholy combination of grep, sed, and awk to pull out the meta data.</li><li>Store this in <code>${ISBN}.json</code></li><li>Download the cover image in <code>${ISBN}.jpg</code></li></ol><p><a href=bookshop_lookup.sh>bookshop_lookup.sh</a>:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=cp>#!/bin/bash
</span><span class=cp></span>
<span class=nv>ISBN</span><span class=o>=</span><span class=nv>$1</span>

<span class=k>if</span> <span class=o>[</span> -z <span class=s2>&#34;</span><span class=nv>$ISBN</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
    <span class=nb>echo</span> Usage <span class=nv>$0</span> ISBN
    <span class=nb>exit</span> <span class=m>1</span>
<span class=k>fi</span>

<span class=k>if</span> <span class=o>[</span> ! -f <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span><span class=s2>.json&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
    <span class=nv>WORKFILE</span><span class=o>=</span><span class=k>$(</span>mktemp<span class=k>)</span>

    <span class=k>if</span> <span class=o>[</span> ! -f <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span><span class=s2>_search.html&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
        <span class=nb>echo</span> <span class=s2>&#34;Searching isdn from bookshop&#34;</span>
        wget -O <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>_search.html <span class=s2>&#34;https://bookshop.org/books?keywords=</span><span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span><span class=s2>&#34;</span>
    <span class=k>fi</span>

    <span class=k>if</span> <span class=o>[</span> ! -f <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span><span class=s2>_book.html&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
        <span class=nb>echo</span> <span class=s2>&#34;Looking up book info from bookshop&#34;</span>
        <span class=nv>URL</span><span class=o>=</span><span class=k>$(</span>awk <span class=s1>&#39;/class=&#34;cover&#34;/ { print $3 }&#39;</span> <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>_search.html <span class=p>|</span> sed -E <span class=s1>&#39;s/href=&#34;([^&#34;]*).*/\1/&#39;</span><span class=k>)</span>
        
        <span class=k>if</span> <span class=o>[</span> -z <span class=s2>&#34;</span><span class=si>${</span><span class=nv>URL</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
            <span class=nb>echo</span> Unable to find product link in search results
            <span class=nb>exit</span> <span class=m>2</span>
        <span class=k>fi</span>

        wget -O <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>_book.html https://bookshop.org<span class=si>${</span><span class=nv>URL</span><span class=si>}</span>
    <span class=k>fi</span>

    grep meta <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>_book.html <span class=p>|</span> awk <span class=s1>&#39;BEGIN {RS=&#34;&lt;meta &#34;} // { print } &#39;</span> &gt; <span class=si>${</span><span class=nv>WORKFILE</span><span class=si>}</span>

    <span class=nv>IMG_URL</span><span class=o>=</span><span class=k>$(</span>grep twitter:image<span class=se>\&#34;</span> <span class=si>${</span><span class=nv>WORKFILE</span><span class=si>}</span> <span class=p>|</span> sed -E <span class=s1>&#39;s/.*content=\&#34;([^&#34;]*).*/\1/&#39;</span><span class=k>)</span>
    <span class=nb>echo</span> Image <span class=nv>$IMG_URL</span>
    <span class=nv>DESCRIPTION</span><span class=o>=</span><span class=k>$(</span>grep twitter:description <span class=si>${</span><span class=nv>WORKFILE</span><span class=si>}</span> <span class=p>|</span> sed -E <span class=s1>&#39;s/.*content=\&#34;([^&#34;]*).*/\1/&#39;</span><span class=k>)</span>
    <span class=nb>echo</span> Desc <span class=nv>$DESCRIPTION</span>
    <span class=nv>TITLE</span><span class=o>=</span><span class=k>$(</span>grep og:title <span class=si>${</span><span class=nv>WORKFILE</span><span class=si>}</span> <span class=p>|</span> sed -E <span class=s1>&#39;s/.*content=\&#34;([^&#34;]*).*/\1/&#39;</span><span class=k>)</span>
    <span class=nb>echo</span> Title <span class=nv>$TITLE</span>
    <span class=nv>AUTHOR</span><span class=o>=</span><span class=k>$(</span>awk <span class=s1>&#39;/\(Author\)/ {print}&#39;</span> <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>_book.html <span class=p>|</span> sed -E <span class=s1>&#39;s/\s*&lt;[^&gt;]*&gt;//g&#39;</span> <span class=p>|</span> sed -E <span class=s1>&#39;s/&lt;\/a.*//&#39;</span><span class=k>)</span>
    <span class=nb>echo</span> Author <span class=nv>$AUTHOR</span>
    
    <span class=nb>echo</span> <span class=s2>&#34;{\&#34;title\&#34;: \&#34;</span><span class=si>${</span><span class=nv>TITLE</span><span class=si>}</span><span class=s2>\&#34;, \&#34;url\&#34;: \&#34;https://bookshop.org</span><span class=si>${</span><span class=nv>URL</span><span class=si>}</span><span class=s2>\&#34;, \&#34;img\&#34;: \&#34;</span><span class=si>${</span><span class=nv>IMG_URL</span><span class=si>}</span><span class=s2>\&#34;, \&#34;author\&#34;: \&#34;</span><span class=si>${</span><span class=nv>AUTHOR</span><span class=si>}</span><span class=s2>\&#34;}&#34;</span> <span class=p>|</span> jq -r <span class=s1>&#39;.&#39;</span> &gt; <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>.json

    <span class=k>if</span> <span class=o>[</span> -f <span class=si>${</span><span class=nv>WORKFILE</span><span class=si>}</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
        rm <span class=si>${</span><span class=nv>WORKFILE</span><span class=si>}</span>
    <span class=k>fi</span>
<span class=k>fi</span>

<span class=k>if</span> <span class=o>[</span> ! -f <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>.jpg <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
    wget -O <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>.jpg <span class=k>$(</span>jq -r <span class=s1>&#39;.img&#39;</span> <span class=si>${</span><span class=nv>ISBN</span><span class=si>}</span>.json<span class=k>)</span>
<span class=k>fi</span></code></pre></div><h2 id=the-shortcode>The shortcode</h2><p>I&rsquo;m not an expert in hugo shortcodes, but this is what we&rsquo;re doing.</p><ol><li>Look for the file <code>${ISBN}.json</code> in the page bundle.</li><li>Show a message if we don&rsquo;t find it.</li><li>Pull in data into a map using <code>$jsonFile.Content | unmarshal</code></li><li>If we are showing the cover image, choose which set of bootstrap utility classes we want to use.</li><li>Wrap the output in <code>&lt;p class="clearfix"></code> to deal with the overfloat. Can&rsquo;t believe I&rsquo;m still doing this.</li><li>Link the image or the title to the bookshop product page, data pulled from the json file.</li><li>Add the <code>{{ .Inner }}</code> content inside of the tag.</li></ol><p><code>bookshop.html</code>:</p><div class=highlight><pre class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=cp>{{</span><span class=w> </span><span class=nx>$isbn</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;isbn&#34;</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=nx>$isbnJson</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>printf</span><span class=w> </span><span class=s>&#34;%s.json&#34;</span><span class=w> </span><span class=nx>$isbn</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=nx>$jsonResources</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.Page.Resources.Match</span><span class=w> </span><span class=nx>$isbnJson</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=nx>$jsonFile</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=nx>$jsonResources</span><span class=w> </span><span class=nx>0</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=nx>$showImage</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;img&#34;</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>$jsonFile</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$data</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>$jsonFile</span><span class=na>.Content</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>unmarshal</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$isbnImage</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>printf</span><span class=w> </span><span class=s>&#34;%s.jpg&#34;</span><span class=w> </span><span class=nx>$isbn</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=nx>$classes</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&#34;float-left mr-3&#34;</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>eq</span><span class=w> </span><span class=nx>$showImage</span><span class=w> </span><span class=s>&#34;right&#34;</span><span class=w> </span><span class=cp>}}{{</span><span class=w> </span><span class=nx>$classes</span><span class=w> </span><span class=err>=</span><span class=w> </span><span class=s>&#34;float-right ml-3&#34;</span><span class=w> </span><span class=cp>}}{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>$showImage</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;</span><span class=nt>p</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;clearfix&#34;</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$data</span><span class=na>.url</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=nx>$imgResources</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.Page.Resources.Match</span><span class=w> </span><span class=nx>$isbnImage</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=nx>$image</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=nx>$imgResources</span><span class=w> </span><span class=nx>0</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>$showImage</span><span class=w> </span><span class=cp>}}</span>
    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$image</span><span class=na>.RelPermalink</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=w> </span><span class=nx>$classes</span><span class=w> </span><span class=cp>}}</span><span class=s>&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;max-height: 200px&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;</span><span class=cp>{{</span><span class=nx>$data</span><span class=na>.title</span><span class=cp>}}</span><span class=s>&#34;</span><span class=p>&gt;</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=nx>$title</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.Get</span><span class=w> </span><span class=s>&#34;title&#34;</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>$title</span><span class=w> </span><span class=cp>}}{{</span><span class=w> </span><span class=nx>$title</span><span class=w> </span><span class=cp>}}{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}{{</span><span class=w> </span><span class=nx>$data</span><span class=na>.title</span><span class=w> </span><span class=cp>}}{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>

  <span class=cp>{{</span><span class=w> </span><span class=na>.Inner</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>$showImage</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>$showImage</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
  <span class=p>&lt;</span><span class=nt>b</span><span class=p>&gt;</span>Run <span class=p>&lt;</span><span class=nt>code</span><span class=p>&gt;</span>bookshop_lookup.sh <span class=cp>{{</span><span class=w> </span><span class=nx>$isbn</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>code</span><span class=p>&gt;</span> to load the meta data into <span class=cp>{{</span><span class=nx>$isbn</span><span class=cp>}}</span>.json<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
  <span class=cp>{{</span><span class=w> </span><span class=na>.Inner</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>$showImage</span><span class=w> </span><span class=cp>}}</span><span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span><span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
<span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span></code></pre></div><p>Example output:</p><p class=clearfix><a href=https://bookshop.org/books/chuang-tzu-basic-writings-revised/9780231105958><img src=../../../articles/2020/book_images_shortcode/9780231105958.jpg class="float-right ml-3" style=max-height:200px alt="Chuang Tzu: Basic Writings (Revised)"></a>
Dui, id ornare arcu odio ut sem nulla pharetra diam sit amet nisl suscipit adipiscing bibendum est ultricies integer quis auctor! Odio eu feugiat pretium, nibh ipsum consequat nisl, vel. Ac tortor dignissim convallis? Tincidunt nunc pulvinar sapien et ligula ullamcorper? Egestas diam in arcu cursus euismod quis viverra nibh cras pulvinar mattis nunc, sed blandit libero volutpat sed cras ornare arcu dui vivamus?</p><h2 id=references>References</h2><ol><li><a href=https://shindakun.dev/posts/adding-a-book-cover-shortcode-for-hugo/>https://shindakun.dev/posts/adding-a-book-cover-shortcode-for-hugo/</a></li></ol></article></div><div class="bg-light py-5"><div class=container><h2 class=text-center>Read next</h2><div class=row><div class="col-md-6 text-center">Next Post:
<a href=../../../articles/2020/deno/>Playing with deno</a></div><div class="col-md-6 text-center">Previous Post:
<a href=../../../articles/2020/styling_tables_with_hugo/>Styling tables with Hugo</a></div></div></div></div><div class="container mt-5"><h2 class=text-center>See also</h2><div class=row><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2020/styling_tables_with_hugo/>Styling tables with Hugo</a></p><p class="lead font-italic mb-0">Markdown sometimes isn&rsquo;t enough</p><div class="font-weight-light mt-3"><p>Markdown is a nice format to write it, but sometimes you need to add HTML classes directly to the output to make it look how you want. Here&rsquo;s a way to do that using hugo shortcodes.
Create a table shortcode Put this in /layouts/shortcodes/table.html:
{{ $htmlTable := .Inner | markdownify }} {{ $class := .Get 0 }} {{ $old := "&lt;table>" }} {{ $new := printf "&lt;table class=\"%s\">" $class }} {{ $htmlTable := replace $htmlTable $old $new }} {{ $htmlTable | safeHTML }} Create a table Like this:</p></div><a href=../../../articles/2020/styling_tables_with_hugo/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2020/styling_hugo_diffs/>Styling Hugo Diffs</a></p><p class="lead font-italic mb-0">Showing just what you changed</p><div class="font-weight-light mt-3"><p>I often want to show small changes I&rsquo;m making to a file and it would be nice for hugo to support styling patches directly. Lets see what we can do to make this process easier.
Lets take the example of create node package.json file and add the following scripts worflow. How can we say this different than &ldquo;copy this into your package.json file&rdquo;?
Create sample steps Lets first create the file using npm init -y and then immediately cp package.</p></div><a href=../../../articles/2020/styling_hugo_diffs/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2019/splitting_git_repos_and_workdirectories/>Splitting Git Repos and Work Directories</a></p><p class="lead font-italic mb-0">all the fun things git can do</p><div class="font-weight-light mt-3"><p>I found a tutorial on how to manage your dotfiles, that works by splitting up the git repository (normally the .git directory) from the work directory. Since I have a lot of code that I put in my tutorials, I adapted the technique to have individual article directories mirrored in their own github repository.
Repositories and Work Directories The normal usage of git is to type git clone &lt;remote> to get a copy of the local directory, mess with stuff, and then add and commit your changes.</p></div><a href=../../../articles/2019/splitting_git_repos_and_workdirectories/ class="btn btn-primary">Read more</a></div></div></div><footer class="footer bg-dark text-light mt-3"><div class=container><h2 class="py-5 font-weight-light my-0">Made in Brooklyn, NY.</h2></div></footer></body></html>