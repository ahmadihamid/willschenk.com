<!DOCTYPE html>
<html><head>
  <title>Upgrading emacs on debian</title>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../../css/theme.css"/>
  <link rel="stylesheet" href="../../../css/syntax.css"/>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-56296045-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  <script async defer data-domain="willschenk.com" src="https://plausible.io/js/plausible.js"></script>  
  <meta property="og:title" content="Upgrading emacs on debian" />
<meta property="og:description" content="Been playing with elfeed on Emacs 26.1 on buster and it keeps crashing. I think for font related reasons. So lets follow the Emacs Wiki Instructions to upgrade to emacs-snapshots and see if that helps. Add the snap shot repository.   Make sure you have the tools installed so that apt can do it&#39;s internet thing. sudo apt-get install software-properties-common sudo apt-get update   Add the signing key: wget -q http://emacs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://willschenk.com/articles/2020/upgrading_emacs_on_debian/" />
<meta property="article:published_time" content="2020-06-28T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-06-28T00:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Upgrading emacs on debian"/>
<meta name="twitter:description" content="Been playing with elfeed on Emacs 26.1 on buster and it keeps crashing. I think for font related reasons. So lets follow the Emacs Wiki Instructions to upgrade to emacs-snapshots and see if that helps. Add the snap shot repository.   Make sure you have the tools installed so that apt can do it&#39;s internet thing. sudo apt-get install software-properties-common sudo apt-get update   Add the signing key: wget -q http://emacs."/>
<meta name="twitter:site" content="@wschenk"/>


  <style>
    .article p, .article ul, .article ol, .article table {
      max-width: 45em;
    }

    .article pre p {
    max-width: none;
    margin-top: -1.5rem;
    }

    article.article p:first-child, .article blockquote {
      font-size: 1.25em;
      font-weight: 300;
      max-width: 36em;  
    }
  </style>
</head>
<body><nav class="container my-5">
  <h1 class="pt-md-5 display-3"><a class="text-dark" href="../../../">Will Schenk</a></h1>
  <p>
    
      <a class="text-dark h4 mr-3 font-weight-light" href="../../../articles/" title="">Articles</a>
    
      <a class="text-dark h4 mr-3 font-weight-light" href="../../../contact" title="">Contact</a>
    
      <a class="text-dark h4 mr-3 font-weight-light" href="../../../tags/" title="">Tags</a>
    
    <a href="../../../feed.xml" class="mr-3 h4 text-light"><img src="../../../img/rss.svg" alt="rss" height="20" width="20"/></a>
    
      <a href="https://twitter.com/@wschenk" class="mr-3 h4 text-light"><img src="../../../img/twitter.svg" alt="twitter" height="20" width="20"/></a>
    
    
      <a href="https://instagram.com/wschenk" class="mr-3 h4 text-light"><img src="../../../img/instagram.svg" alt="instagram" height="20" width="20"/></a>
    
    
      <a href="https://github.com/wschenk" class="mr-3 h4 text-light"><img src="../../../img/github.svg" alt="github" height="20" width="20"/></a>
    
    
      <a href="https://linkedin.com/in/will-schenk-420266" class="mr-3 h4 text-light"><img src="../../../img/linkedin.svg" alt="linkedin" height="20" width="20"/></a>
    
  </p>
</nav>

<div class="container">
  <h1 class="mt-5">Upgrading emacs on debian</h1>

  
    <h2 class="font-weight-light font-italic mb-3">fixing crashes</h2>
  

  <p class="text-muted mt-3">
    <a class="text-muted" href="https://willschenk.com/articles/2020/upgrading_emacs_on_debian/">Published June 28, 2020</a>

    
      <a class="text-muted" href="../../../tags/howto">#howto,</a>
    
      <a class="text-muted" href="../../../tags/emacs">#emacs,</a>
    
      <a class="text-muted" href="../../../tags/debian">#debian</a>
    
  </p>

  

  

  <article class="article mt-5">
    
<p>
Been playing with <a href="https://github.com/skeeto/elfeed">elfeed</a> on Emacs 26.1 on <code class="verbatim">buster</code> and it keeps crashing.  I think for <a href="https://www.reddit.com/r/emacs/comments/elswgh/emacs_crashes_when_running_mu4e/">font related reasons</a>.  So lets follow the <a href="https://www.emacswiki.org/emacs/EmacsSnapshotAndDebian">Emacs Wiki Instructions</a> to upgrade to <code class="verbatim">emacs-snapshots</code> and see if that helps.
</p>
<h2 id="headline-1">
Add the snap shot repository.
</h2>
<p>
Make sure you have the tools installed so that apt can do it&#39;s
internet thing.
</p>
<div class="src src-bash">
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sudo apt-get install software-properties-common
sudo apt-get update</code></pre></div>
</div>
<p>
Add the signing key:
</p>
<div class="src src-bash">
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">wget -q http://emacs.ganneff.de/apt.key -O- <span class="p">|</span> sudo apt-key add</code></pre></div>
</div>
<p>
And add the packages to your local index.  Note that I&#39;m specifically
using <code class="verbatim">buster</code> here so update that if you need do.
</p>
<div class="src src-bash">
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sudo add-apt-repository <span class="s2">&#34;deb http://emacs.ganneff.de/ buster main&#34;</span>
sudo apt-get update</code></pre></div>
</div>
<h2 id="headline-2">
Remove the old emacs
</h2>
<p>
I ran into a bunch of problems with the old emacs being installed at
the same time, and it borked <code class="verbatim">dpkg</code> for a bit.  So first lets remove
everything:
</p>
<div class="src src-bash">
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sudo apt remove emacs-bin-common emacs-gtk</code></pre></div>
</div>
<h2 id="headline-3">
Add the new one
</h2>
<p>
Pretty straightforward here.
</p>
<div class="src src-bash">
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sudo apt-get install emacs-snapshot 
sudo update-alternatives --config emacsclient</code></pre></div>
</div>
<h2 id="headline-4">
Fix that icon
</h2>
<p>
The snapshot build has a svg icon, which the Chromebook doesn&#39;t seem
to like.  So lets fix that up.
</p>
<div class="src src-text">
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">mkdir -p ~/.local/share/applications/
cp /usr/share/application/emacs-snapshot.desktop ~/.local/share/applications</code></pre></div>
</div>
<p>
And then edit <code class="verbatim">~/.local/share/applications/emacs-snapshot.desktop</code> to
put the Icon to the final image place, in my case
</p>
<p>
<code class="verbatim">Icon=emacs</code>
</p>
<p>
It took a while for the changes to take but after a reboot it works
great.
</p>
<h2 id="headline-5">
Start it up
</h2>
<p>
<a href="https://www.reddit.com/r/Crostini/comments/bw7b99/how_does_crostini_adding_icons_to_the_shelf/">Crositini will eventually update the shelf</a> but it will take a little
time.
</p>
<p>
So far, no issues and no crashes!
</p>

  </article>

  
</div>


  <div class="bg-light py-5">
    <div class="container">
      <h2 class="text-center">Read next</h2>

      <div class="row">
        <div class="col-md-6 text-center">
          
        </div>
        <div class="col-md-6 text-center">
          
            Previous Post:
            <a href="../../../articles/2020/checking_rss_health/">Checking health of RSS feeds</a>
          
        </div>
      </div>
    </div>
  </div>




<div class="container mt-5">
  <h2 class="text-center">See also</h2>
  <div class="row">
  	
      <div class="col-md mb-3">
        <p class="lead mb-0"><a class="text-body" href="../../../articles/2019/using_org_mode_in_hugo/">Using Org Mode in Hugo</a></p>

        
          <p class="lead font-italic mb-0">emacs everywhere</p>
        
        <div class="font-weight-light mt-3">
          
          
            <p>I&#39;m learning org-mode and I don&#39;t really know what I&#39;m doing, but this is how I&#39;m trying out writing hugo posts with it. I&#39;m used to markdown, so this is a what&#39;s different post. Some minor org-mode tweaks   For some reason when org-mode starts it doesn&#39;t softwrap the paragragh text. I like to have it soft-wrapped so everything is on the screen if it&#39;s not collapsed. Also having some nice indentation makes things visually cleaner, so add this snippet to your ~/.</p>
          
        </div>
        <a href="../../../articles/2019/using_org_mode_in_hugo/" class="btn btn-primary">Read more</a>
      </div>
    
      <div class="col-md mb-3">
        <p class="lead mb-0"><a class="text-body" href="../../../articles/2020/using_syncthing/">Using Syncthing</a></p>

        
          <p class="lead font-italic mb-0">who needs servers</p>
        
        <div class="font-weight-light mt-3">
          
          
            <p>Syncthing is a way to keep things up-to-date across machines without going through any 3rd party servers. You get both backup and file synchronization without pesky servers just using the computer capacity you probably already have laying around. Lets give it a spin. Installation on Debian   On the Getting Started page of syncthing they recommend using a GUI package, but we&#39;re going to install on debian on the command line.</p>
          
        </div>
        <a href="../../../articles/2020/using_syncthing/" class="btn btn-primary">Read more</a>
      </div>
    
      <div class="col-md mb-3">
        <p class="lead mb-0"><a class="text-body" href="../../../articles/2020/simple_cors_workaround_for_local_development/">Simple CORS workaround for local development</a></p>

        
        <div class="font-weight-light mt-3">
          
          
            <p>I&#39;ve been doing a lot of web development old school, just editing HTML and JavaScript by hand without a build environment. Running npx live-server is an easy one liner to spin up a server, that opens a browser for you and also updates changes on safe.  Sometimes that&#39;s not enough. Often you want to pull in data from an API, and that requires HTTPS, and also you need to work around CORS limitations.</p>
          
        </div>
        <a href="../../../articles/2020/simple_cors_workaround_for_local_development/" class="btn btn-primary">Read more</a>
      </div>
    
  </div>
</div>


<footer class="footer bg-dark text-light mt-3">
  <div class="container">
    <h2 class="py-5 font-weight-light my-0">Made in Brooklyn, NY.</h2>
  </div>
</footer>
</body>
</html>
