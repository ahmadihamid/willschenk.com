<!doctype html><html><head><title>Looking at package.json</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=../../../css/theme.css><link rel=stylesheet href=../../../css/syntax.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-56296045-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script async defer data-domain=willschenk.com src=https://plausible.io/js/plausible.js></script><meta property="og:title" content="Looking at package.json"><meta property="og:description" content="Look at the dependencies   First lets create a simple project and add a single module, in this case npm-api which will we use to access the main repository. npm init -y npm add npm-api   And lets see what's been installed in node_modules: ls -l node_modules | wc -l du -sh node_modules     68    12M node_modules     68 directories with 12M of code!"><meta property="og:type" content="article"><meta property="og:url" content="https://willschenk.com/articles/2020/looking_at_packagejson/"><meta property="article:published_time" content="2020-10-13T00:00:00+00:00"><meta property="article:modified_time" content="2020-10-13T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Looking at package.json"><meta name=twitter:description content="Look at the dependencies   First lets create a simple project and add a single module, in this case npm-api which will we use to access the main repository. npm init -y npm add npm-api   And lets see what's been installed in node_modules: ls -l node_modules | wc -l du -sh node_modules     68    12M node_modules     68 directories with 12M of code!"><meta name=twitter:site content="@wschenk"><style>.article p,.article ul,.article ol,.article table{max-width:45em}.article pre p{max-width:none;margin-top:-1.5rem}article.article p:first-child,.article blockquote{font-size:1.25em;font-weight:300;max-width:36em}.half-height-scroll{max-height:32em;overflow:scroll}</style></head><body><nav class="container my-5"><h1 class="pt-md-5 display-3"><a class=text-dark href=../../../>Will Schenk</a></h1><p><a class="text-dark h4 mr-3 font-weight-light" href=../../../articles/>Articles</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../contact>Contact</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../tags/>Tags</a>
<a href=../../../feed.xml class="mr-3 h4 text-light"><img src=../../../img/rss.svg alt=rss height=20 width=20></a>
<a href=https://twitter.com/@wschenk class="mr-3 h4 text-light"><img src=../../../img/twitter.svg alt=twitter height=20 width=20></a>
<a href=https://instagram.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/instagram.svg alt=instagram height=20 width=20></a>
<a href=https://github.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/github.svg alt=github height=20 width=20></a>
<a href=https://linkedin.com/in/will-schenk-420266 class="mr-3 h4 text-light"><img src=../../../img/linkedin.svg alt=linkedin height=20 width=20></a></p></nav><div class=container><h1 class=mt-5>Looking at package.json</h1><h2 class="font-weight-light font-italic mb-3">making sense of package-lock.json</h2><p class="text-muted mt-3"><a class=text-muted href=https://willschenk.com/articles/2020/looking_at_packagejson/>Published October 13, 2020</a>
<a class=text-muted href=../../../tags/node>#node,</a>
<a class=text-muted href=../../../tags/npm>#npm,</a>
<a class=text-muted href=../../../tags/packagemanagers>#packagemanagers,</a>
<a class=text-muted href=../../../tags/git>#git</a></p><article class="article mt-5"><h2 id=headline-1>Look at the dependencies</h2><p>First lets create a simple project and add a single module, in this
case <code class=verbatim>npm-api</code> which will we use to access the main repository.</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>npm init -y
npm add npm-api</code></pre></div></div><p>And lets see what's been installed in <code class=verbatim>node_modules</code>:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>ls -l node_modules <span class=p>|</span> wc -l 
du -sh node_modules</code></pre></div></div><table><tbody><tr><td class=align-right>68</td><td></td></tr><tr><td class=align-right>12M</td><td>node_modules</td></tr></tbody></table><p>68 directories with 12M of code! Yowza! That's-a big package. Lets
parse up the <code class=verbatim>package-lock.js</code> file to see if it agrees:</p><div class="src src-js"><div class=highlight><pre class=chroma><code class=language-js data-lang=js>  <span class=s1>&#39;use strict&#39;</span><span class=p>;</span>

  <span class=kr>const</span> <span class=nx>fs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fs&#39;</span><span class=p>);</span>

  <span class=kd>let</span> <span class=nx>rawdata</span> <span class=o>=</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>readFileSync</span><span class=p>(</span><span class=s1>&#39;package-lock.json&#39;</span><span class=p>);</span>
  <span class=kd>let</span> <span class=nx>lockfile</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>rawdata</span><span class=p>);</span>

  <span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>lockfile</span><span class=p>.</span><span class=nx>dependencies</span><span class=p>).</span><span class=nx>forEach</span><span class=p>(</span> <span class=p>(</span><span class=nx>elem</span><span class=p>,</span><span class=nx>index</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=sb>`| </span><span class=si>${</span><span class=nx>index</span><span class=o>+</span><span class=mi>1</span><span class=si>}</span><span class=sb> | </span><span class=si>${</span><span class=nx>elem</span><span class=si>}</span><span class=sb> | </span><span class=si>${</span><span class=nx>lockfile</span><span class=p>.</span><span class=nx>dependencies</span><span class=p>[</span><span class=nx>elem</span><span class=p>].</span><span class=nx>version</span><span class=si>}</span><span class=sb> |`</span> <span class=p>);</span>
  <span class=p>});</span>
</code></pre></div></div><table class="table table-striped half-height-scroll"><tbody><tr><td class=align-right>1</td><td>JSONStream</td><td>1.3.5</td></tr><tr><td class=align-right>2</td><td>ajv</td><td>6.12.4</td></tr><tr><td class=align-right>3</td><td>asn1</td><td>0.2.4</td></tr><tr><td class=align-right>4</td><td>assert-plus</td><td>1.0.0</td></tr><tr><td class=align-right>5</td><td>asynckit</td><td>0.4.0</td></tr><tr><td class=align-right>6</td><td>aws-sign2</td><td>0.7.0</td></tr><tr><td class=align-right>7</td><td>aws4</td><td>1.10.1</td></tr><tr><td class=align-right>8</td><td>axios</td><td>0.18.1</td></tr><tr><td class=align-right>9</td><td>bcrypt-pbkdf</td><td>1.0.2</td></tr><tr><td class=align-right>10</td><td>caseless</td><td>0.12.0</td></tr><tr><td class=align-right>11</td><td>clone-deep</td><td>4.0.1</td></tr><tr><td class=align-right>12</td><td>combined-stream</td><td>1.0.8</td></tr><tr><td class=align-right>13</td><td>core-util-is</td><td>1.0.2</td></tr><tr><td class=align-right>14</td><td>dashdash</td><td>1.14.1</td></tr><tr><td class=align-right>15</td><td>debug</td><td>3.1.0</td></tr><tr><td class=align-right>16</td><td>delayed-stream</td><td>1.0.0</td></tr><tr><td class=align-right>17</td><td>download-stats</td><td>0.3.4</td></tr><tr><td class=align-right>18</td><td>ecc-jsbn</td><td>0.1.2</td></tr><tr><td class=align-right>19</td><td>extend</td><td>3.0.2</td></tr><tr><td class=align-right>20</td><td>extsprintf</td><td>1.3.0</td></tr><tr><td class=align-right>21</td><td>fast-deep-equal</td><td>3.1.3</td></tr><tr><td class=align-right>22</td><td>fast-json-stable-stringify</td><td>2.1.0</td></tr><tr><td class=align-right>23</td><td>follow-redirects</td><td>1.5.10</td></tr><tr><td class=align-right>24</td><td>forever-agent</td><td>0.6.1</td></tr><tr><td class=align-right>25</td><td>form-data</td><td>2.3.3</td></tr><tr><td class=align-right>26</td><td>getpass</td><td>0.1.7</td></tr><tr><td class=align-right>27</td><td>har-schema</td><td>2.0.0</td></tr><tr><td class=align-right>28</td><td>har-validator</td><td>5.1.5</td></tr><tr><td class=align-right>29</td><td>http-signature</td><td>1.2.0</td></tr><tr><td class=align-right>30</td><td>is-buffer</td><td>1.1.6</td></tr><tr><td class=align-right>31</td><td>is-plain-object</td><td>2.0.4</td></tr><tr><td class=align-right>32</td><td>is-typedarray</td><td>1.0.0</td></tr><tr><td class=align-right>33</td><td>isobject</td><td>3.0.1</td></tr><tr><td class=align-right>34</td><td>isstream</td><td>0.1.2</td></tr><tr><td class=align-right>35</td><td>jsbn</td><td>0.1.1</td></tr><tr><td class=align-right>36</td><td>json-schema</td><td>0.2.3</td></tr><tr><td class=align-right>37</td><td>json-schema-traverse</td><td>0.4.1</td></tr><tr><td class=align-right>38</td><td>json-stringify-safe</td><td>5.0.1</td></tr><tr><td class=align-right>39</td><td>jsonparse</td><td>1.3.1</td></tr><tr><td class=align-right>40</td><td>jsprim</td><td>1.4.1</td></tr><tr><td class=align-right>41</td><td>kind-of</td><td>6.0.3</td></tr><tr><td class=align-right>42</td><td>lazy-cache</td><td>2.0.2</td></tr><tr><td class=align-right>43</td><td>mime-db</td><td>1.44.0</td></tr><tr><td class=align-right>44</td><td>mime-types</td><td>2.1.27</td></tr><tr><td class=align-right>45</td><td>moment</td><td>2.27.0</td></tr><tr><td class=align-right>46</td><td>ms</td><td>2.0.0</td></tr><tr><td class=align-right>47</td><td>npm-api</td><td>1.0.0</td></tr><tr><td class=align-right>48</td><td>oauth-sign</td><td>0.9.0</td></tr><tr><td class=align-right>49</td><td>paged-request</td><td>2.0.1</td></tr><tr><td class=align-right>50</td><td>performance-now</td><td>2.1.0</td></tr><tr><td class=align-right>51</td><td>psl</td><td>1.8.0</td></tr><tr><td class=align-right>52</td><td>punycode</td><td>2.1.1</td></tr><tr><td class=align-right>53</td><td>qs</td><td>6.5.2</td></tr><tr><td class=align-right>54</td><td>request</td><td>2.88.2</td></tr><tr><td class=align-right>55</td><td>safe-buffer</td><td>5.2.1</td></tr><tr><td class=align-right>56</td><td>safer-buffer</td><td>2.1.2</td></tr><tr><td class=align-right>57</td><td>set-getter</td><td>0.1.0</td></tr><tr><td class=align-right>58</td><td>shallow-clone</td><td>3.0.1</td></tr><tr><td class=align-right>59</td><td>sshpk</td><td>1.16.1</td></tr><tr><td class=align-right>60</td><td>through</td><td>2.3.8</td></tr><tr><td class=align-right>61</td><td>to-object-path</td><td>0.3.0</td></tr><tr><td class=align-right>62</td><td>tough-cookie</td><td>2.5.0</td></tr><tr><td class=align-right>63</td><td>tunnel-agent</td><td>0.6.0</td></tr><tr><td class=align-right>64</td><td>tweetnacl</td><td>0.14.5</td></tr><tr><td class=align-right>65</td><td>uri-js</td><td>4.4.0</td></tr><tr><td class=align-right>66</td><td>uuid</td><td>3.4.0</td></tr><tr><td class=align-right>67</td><td>verror</td><td>1.10.0</td></tr></tbody></table><p>There's one additional directory installed in <code class=verbatim>node_modules</code> called <code class=verbatim>.bin</code>
which is where binary executables of installed packages live, so
that's the difference.</p><p>We can see what commands are installed:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>ls -l node_modules/.bin</code></pre></div></div><pre class=example>
total 20
lrwxrwxrwx 1 wschenk wschenk 20 Sep  9 14:26 JSONStream -&gt; ../JSONStream/bin.js
lrwxrwxrwx 1 wschenk wschenk 23 Sep  9 14:26 sshpk-conv -&gt; ../sshpk/bin/sshpk-conv
lrwxrwxrwx 1 wschenk wschenk 23 Sep  9 14:26 sshpk-sign -&gt; ../sshpk/bin/sshpk-sign
lrwxrwxrwx 1 wschenk wschenk 25 Sep  9 14:26 sshpk-verify -&gt; ../sshpk/bin/sshpk-verify
lrwxrwxrwx 1 wschenk wschenk 16 Sep  9 14:26 uuid -&gt; ../uuid/bin/uuid
</pre><h2 id=headline-2>What are the specified deps</h2><p>The <a href=https://docs.npmjs.com/configuring-npm/package-lock-json.html>structure of package-lock.json</a> is much simpler than <code class=verbatim>Gemfile.lock</code>,
and it doesn't show which modules are the ones that the developer
specified and which are ones are derivatives. We can take a guess at
this by looking at modules that aren't another's dependancy.</p><div class="src src-js"><div class=highlight><pre class=chroma><code class=language-js data-lang=js>  <span class=s1>&#39;use strict&#39;</span><span class=p>;</span>

  <span class=kr>const</span> <span class=nx>fs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fs&#39;</span><span class=p>);</span>

  <span class=kd>let</span> <span class=nx>rawdata</span> <span class=o>=</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>readFileSync</span><span class=p>(</span><span class=s1>&#39;package-lock.json&#39;</span><span class=p>);</span>
  <span class=kd>let</span> <span class=nx>lockfile</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>rawdata</span><span class=p>);</span>

  <span class=kd>let</span> <span class=nx>deps</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>lockfile</span><span class=p>.</span><span class=nx>dependencies</span><span class=p>);</span>
  <span class=kd>let</span> <span class=nx>possible_mains</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span>

  <span class=nx>deps</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span> <span class=nx>elem</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>possible_mains</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span> <span class=nx>elem</span><span class=p>,</span>  <span class=kc>true</span> <span class=p>)</span>
  <span class=p>}</span> <span class=p>);</span>

  <span class=nx>deps</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span> <span class=nx>elem</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=kd>let</span> <span class=nx>requires</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>lockfile</span><span class=p>.</span><span class=nx>dependencies</span><span class=p>[</span><span class=nx>elem</span><span class=p>].</span><span class=nx>requires</span> <span class=o>||</span> <span class=p>{})</span>
      <span class=nx>requires</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span> <span class=nx>dep</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=nx>possible_mains</span><span class=p>.</span><span class=k>delete</span><span class=p>(</span> <span class=nx>dep</span> <span class=p>);</span>
      <span class=p>}</span> <span class=p>)</span>
  <span class=p>}</span> <span class=p>)</span>

  <span class=nx>possible_mains</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span> <span class=p>(</span><span class=nx>value</span><span class=p>,</span> <span class=nx>key</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=nx>key</span> <span class=p>)</span> <span class=p>);</span>
</code></pre></div></div><p>Which happily yields:</p><pre class=example>
npm-api
</pre><p>So that looks correct for this project.</p><h2 id=headline-3>Loading project metadata from npm</h2><p>The next thing we are looking for is the repository of the source
code, so we can see what code there's out there, how well it's
maintained, etc.</p><div class="src src-js"><div class=highlight><pre class=chroma><code class=language-js data-lang=js>  <span class=kd>var</span> <span class=nx>NpmApi</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;npm-api&#39;</span><span class=p>);</span>

  <span class=p>(</span><span class=nx>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=kr>const</span> <span class=nx>repo</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>NpmApi</span><span class=p>().</span><span class=nx>repo</span><span class=p>(</span> <span class=s1>&#39;npm-api&#39;</span> <span class=p>);</span>

      <span class=kr>const</span> <span class=nx>pkg</span> <span class=o>=</span> <span class=nx>await</span> <span class=nx>repo</span><span class=p>.</span><span class=kr>package</span><span class=p>()</span>

      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=s2>&#34;Name        &#34;</span><span class=p>,</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>name</span> <span class=p>);</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=s2>&#34;Version     &#34;</span><span class=p>,</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>version</span> <span class=p>);</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=s2>&#34;Description &#34;</span><span class=p>,</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>description</span> <span class=p>);</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=s2>&#34;License     &#34;</span><span class=p>,</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>license</span> <span class=p>);</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=s2>&#34;Homepage    &#34;</span><span class=p>,</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>homepage</span> <span class=p>);</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=s2>&#34;Repository  &#34;</span><span class=p>,</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>repository</span> <span class=p>);</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=s2>&#34;Clean repo  &#34;</span><span class=p>,</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>repository</span><span class=p>.</span><span class=nx>url</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span> <span class=sr>/git\+/g</span><span class=p>,</span> <span class=s1>&#39;&#39;</span> <span class=p>)</span> <span class=p>);</span>
      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=s2>&#34;Bug         &#34;</span><span class=p>,</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>bugs</span> <span class=p>);</span>
  <span class=p>})()</span>
</code></pre></div></div><pre class=example>
Name         npm-api
Version      1.0.0
Description  Base class for retrieving data from the npm registry.
License      MIT
Homepage     https://github.com/doowb/npm-api
Repository   { type: &#39;git&#39;, url: &#39;git+https://github.com/doowb/npm-api.git&#39; }
Clean repo   https://github.com/doowb/npm-api.git
Bug          { url: &#39;https://github.com/doowb/npm-api/issues&#39; }
</pre><p>Here we can see the repository is type <code class=verbatim>git</code> and the url has an
<em>unexplained</em> <code class=verbatim>git+</code> in front of it. Why? I'd love to know. But we can
strip it out using the <code class=verbatim>replace</code> function to get something not
pointlessly redundant from the <code class=verbatim>type</code> sibling attribute.</p><h2 id=headline-4>Finding out of date dependencies</h2><p><code class=verbatim>npm</code> has a similar function to <code class=verbatim>bundle outdated</code> called… <code class=verbatim>npm outdated</code>.
Exciting! Lets recreate that now.</p><div class="src src-js"><div class=highlight><pre class=chroma><code class=language-js data-lang=js>  <span class=s1>&#39;use strict&#39;</span><span class=p>;</span>

  <span class=kr>const</span> <span class=nx>NpmApi</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span> <span class=s1>&#39;npm-api&#39;</span> <span class=p>);</span>
  <span class=kr>const</span> <span class=nx>fs</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;fs&#39;</span><span class=p>);</span>

  <span class=kd>let</span> <span class=nx>rawdata</span> <span class=o>=</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>readFileSync</span><span class=p>(</span><span class=s1>&#39;package-lock.json&#39;</span><span class=p>);</span>
  <span class=kd>let</span> <span class=nx>lockfile</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>rawdata</span><span class=p>);</span>

  <span class=p>(</span><span class=nx>async</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>    
      <span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>lockfile</span><span class=p>.</span><span class=nx>dependencies</span><span class=p>).</span><span class=nx>forEach</span><span class=p>(</span> <span class=nx>async</span> <span class=p>(</span><span class=nx>elem</span><span class=p>,</span><span class=nx>index</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=kr>const</span> <span class=nx>repo</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>NpmApi</span><span class=p>().</span><span class=nx>repo</span><span class=p>(</span> <span class=nx>elem</span> <span class=p>);</span>
          <span class=kr>const</span> <span class=nx>pkg</span> <span class=o>=</span> <span class=nx>await</span> <span class=nx>repo</span><span class=p>.</span><span class=kr>package</span><span class=p>();</span>

          <span class=kr>const</span> <span class=nx>installed_version</span> <span class=o>=</span> <span class=nx>lockfile</span><span class=p>.</span><span class=nx>dependencies</span><span class=p>[</span><span class=nx>elem</span><span class=p>].</span><span class=nx>version</span><span class=p>;</span>
          <span class=kr>const</span> <span class=nx>current_version</span> <span class=o>=</span> <span class=nx>pkg</span><span class=p>.</span><span class=nx>version</span><span class=p>;</span>

          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span> <span class=sb>`| </span><span class=si>${</span><span class=nx>elem</span><span class=si>}</span><span class=sb> | </span><span class=si>${</span><span class=nx>installed_version</span><span class=si>}</span><span class=sb> | </span><span class=si>${</span><span class=nx>current_version</span><span class=si>}</span><span class=sb> | </span><span class=si>${</span><span class=nx>installed_version</span> <span class=o>!=</span> <span class=nx>current_version</span> <span class=o>?</span> <span class=s1>&#39;OUTDATED&#39;</span> <span class=o>:</span> <span class=s1>&#39;CURRENT&#39;</span><span class=si>}</span><span class=sb> |`</span> <span class=p>);</span>
      <span class=p>});</span>
  <span class=p>})()</span>
</code></pre></div></div><p>Which dumps out:</p><table class="table table-striped half-height-scroll"><tbody><tr><td>Module</td><td>Installed</td><td>Latest</td><td>Status</td></tr><tr><td>core-util-is</td><td>1.0.2</td><td>1.0.2</td><td>CURRENT</td></tr><tr><td>caseless</td><td>0.12.0</td><td>0.12.0</td><td>CURRENT</td></tr><tr><td>performance-now</td><td>2.1.0</td><td>2.1.0</td><td>CURRENT</td></tr><tr><td>clone-deep</td><td>4.0.1</td><td>4.0.1</td><td>CURRENT</td></tr><tr><td>isstream</td><td>0.1.2</td><td>0.1.2</td><td>CURRENT</td></tr><tr><td>ecc-jsbn</td><td>0.1.2</td><td>0.2.0</td><td>OUTDATED</td></tr><tr><td>json-stringify-safe</td><td>5.0.1</td><td>5.0.1</td><td>CURRENT</td></tr><tr><td>isobject</td><td>3.0.1</td><td>4.0.0</td><td>OUTDATED</td></tr><tr><td>asn1</td><td>0.2.4</td><td>0.2.4</td><td>CURRENT</td></tr><tr><td>combined-stream</td><td>1.0.8</td><td>1.0.8</td><td>CURRENT</td></tr><tr><td>ms</td><td>2.0.0</td><td>2.1.2</td><td>OUTDATED</td></tr><tr><td>paged-request</td><td>2.0.1</td><td>2.0.1</td><td>CURRENT</td></tr><tr><td>fast-json-stable-stringify</td><td>2.1.0</td><td>2.1.0</td><td>CURRENT</td></tr><tr><td>extend</td><td>3.0.2</td><td>3.0.2</td><td>CURRENT</td></tr><tr><td>download-stats</td><td>0.3.4</td><td>0.3.4</td><td>CURRENT</td></tr><tr><td>asynckit</td><td>0.4.0</td><td>0.4.0</td><td>CURRENT</td></tr><tr><td>bcrypt-pbkdf</td><td>1.0.2</td><td>1.0.2</td><td>CURRENT</td></tr><tr><td>extsprintf</td><td>1.3.0</td><td>1.4.0</td><td>OUTDATED</td></tr><tr><td>tunnel-agent</td><td>0.6.0</td><td>0.6.0</td><td>CURRENT</td></tr><tr><td>lazy-cache</td><td>2.0.2</td><td>2.0.2</td><td>CURRENT</td></tr><tr><td>is-buffer</td><td>1.1.6</td><td>2.0.4</td><td>OUTDATED</td></tr><tr><td>aws-sign2</td><td>0.7.0</td><td>0.7.0</td><td>CURRENT</td></tr><tr><td>jsbn</td><td>0.1.1</td><td>1.1.0</td><td>OUTDATED</td></tr><tr><td>har-schema</td><td>2.0.0</td><td>2.0.0</td><td>CURRENT</td></tr><tr><td>delayed-stream</td><td>1.0.0</td><td>1.0.0</td><td>CURRENT</td></tr><tr><td>dashdash</td><td>1.14.1</td><td>2.0.0</td><td>OUTDATED</td></tr><tr><td>forever-agent</td><td>0.6.1</td><td>0.6.1</td><td>CURRENT</td></tr><tr><td>safer-buffer</td><td>2.1.2</td><td>2.1.2</td><td>CURRENT</td></tr><tr><td>is-plain-object</td><td>2.0.4</td><td>5.0.0</td><td>OUTDATED</td></tr><tr><td>getpass</td><td>0.1.7</td><td>0.1.7</td><td>CURRENT</td></tr><tr><td>json-schema-traverse</td><td>0.4.1</td><td>0.5.0</td><td>OUTDATED</td></tr><tr><td>json-schema</td><td>0.2.3</td><td>0.2.5</td><td>OUTDATED</td></tr><tr><td>is-typedarray</td><td>1.0.0</td><td>1.0.0</td><td>CURRENT</td></tr><tr><td>punycode</td><td>2.1.1</td><td>2.1.1</td><td>CURRENT</td></tr><tr><td>http-signature</td><td>1.2.0</td><td>1.3.5</td><td>OUTDATED</td></tr><tr><td>to-object-path</td><td>0.3.0</td><td>0.3.0</td><td>CURRENT</td></tr><tr><td>verror</td><td>1.10.0</td><td>1.10.0</td><td>CURRENT</td></tr><tr><td>fast-deep-equal</td><td>3.1.3</td><td>3.1.3</td><td>CURRENT</td></tr><tr><td>through</td><td>2.3.8</td><td>2.3.8</td><td>CURRENT</td></tr><tr><td>jsonparse</td><td>1.3.1</td><td>1.3.1</td><td>CURRENT</td></tr><tr><td>shallow-clone</td><td>3.0.1</td><td>3.0.1</td><td>CURRENT</td></tr><tr><td>safe-buffer</td><td>5.2.1</td><td>5.2.1</td><td>CURRENT</td></tr><tr><td>jsprim</td><td>1.4.1</td><td>2.0.0</td><td>OUTDATED</td></tr><tr><td>npm-api</td><td>1.0.0</td><td>1.0.0</td><td>CURRENT</td></tr><tr><td>set-getter</td><td>0.1.0</td><td>0.1.0</td><td>CURRENT</td></tr><tr><td>oauth-sign</td><td>0.9.0</td><td>0.9.0</td><td>CURRENT</td></tr><tr><td>uri-js</td><td>4.4.0</td><td>4.4.0</td><td>CURRENT</td></tr><tr><td>follow-redirects</td><td>1.5.10</td><td>1.13.0</td><td>OUTDATED</td></tr><tr><td>kind-of</td><td>6.0.3</td><td>6.0.3</td><td>CURRENT</td></tr><tr><td>aws4</td><td>1.10.1</td><td>1.10.1</td><td>CURRENT</td></tr><tr><td>mime-db</td><td>1.44.0</td><td>1.45.0</td><td>OUTDATED</td></tr><tr><td>sshpk</td><td>1.16.1</td><td>1.16.1</td><td>CURRENT</td></tr><tr><td>psl</td><td>1.8.0</td><td>1.8.0</td><td>CURRENT</td></tr><tr><td>mime-types</td><td>2.1.27</td><td>2.1.27</td><td>CURRENT</td></tr><tr><td>har-validator</td><td>5.1.5</td><td>5.1.5</td><td>CURRENT</td></tr><tr><td>form-data</td><td>2.3.3</td><td>3.0.0</td><td>OUTDATED</td></tr><tr><td>tweetnacl</td><td>0.14.5</td><td>1.0.3</td><td>OUTDATED</td></tr><tr><td>debug</td><td>3.1.0</td><td>4.2.0</td><td>OUTDATED</td></tr><tr><td>tough-cookie</td><td>2.5.0</td><td>4.0.0</td><td>OUTDATED</td></tr><tr><td>qs</td><td>6.5.2</td><td>6.9.4</td><td>OUTDATED</td></tr><tr><td>JSONStream</td><td>1.3.5</td><td>1.3.5</td><td>CURRENT</td></tr><tr><td>axios</td><td>0.18.1</td><td>0.20.0</td><td>OUTDATED</td></tr><tr><td>moment</td><td>2.27.0</td><td>2.29.1</td><td>OUTDATED</td></tr><tr><td>uuid</td><td>3.4.0</td><td>8.3.1</td><td>OUTDATED</td></tr><tr><td>request</td><td>2.88.2</td><td>2.88.2</td><td>CURRENT</td></tr><tr><td>assert-plus</td><td>1.0.0</td><td>1.0.0</td><td>CURRENT</td></tr><tr><td>ajv</td><td>6.12.4</td><td>6.12.6</td><td>OUTDATED</td></tr></tbody></table><h2 id=headline-5>Thoughts</h2><p>As with our <code class=verbatim>Gemfile</code> exploration, we can</p><ol><li><p>Identify which <code class=verbatim>modules</code> are specified only from the lock file.</p></li><li><p>Look at all of the dependancies of the project to see which is out of date</p></li><li><p>Find the git repo that the original code is packaged from.</p></li></ol><p>The next step will be to start looking into the repos themselves to
ask a few questions:</p><ol><li><p>Is the project maintained?</p></li><li><p>What is the project activity?</p></li><li><p>Is it a <a href=https://semver.org/>semver</a> project?</p></li><li><p>What patch/minor/major code has changed?</p></li><li><p>How is the project connected to other projects?</p></li></ol><p>Stay tuned!</p><h2 id=headline-6>References</h2><ol><li><p><a href=https://docs.npmjs.com/configuring-npm/package-lock-json.html>https://docs.npmjs.com/configuring-npm/package-lock-json.html</a></p></li><li><p><a href=https://docs.npmjs.com/about-packages-and-modules#npm-package-git-url-formats>https://docs.npmjs.com/about-packages-and-modules#npm-package-git-url-formats</a></p></li><li><p><a href=https://github.com/doowb/npm-api>https://github.com/doowb/npm-api</a></p></li></ol></article></div><div class="bg-light py-5"><div class=container><h2 class=text-center>Read next</h2><div class=row><div class="col-md-6 text-center">Next Post:
<a href=../../../articles/2020/release_code_diffs/>Release code diffs</a></div><div class="col-md-6 text-center">Previous Post:
<a href=../../../articles/2020/looking_at_gemfiles/>Looking at Gemfiles</a></div></div></div></div><div class="container mt-5"><h2 class=text-center>See also</h2><div class=row><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2020/looking_at_gemfiles/>Looking at Gemfiles</a></p><p class="lead font-italic mb-0">making sense of Gemfile.lock</p><div class="font-weight-light mt-3"><p>Bundler is the standard way for Ruby projects to specifiy dependencies. Let's take a look at how that works, reimplement bundle outdated, and be able to see the changes that took place between the build you are using and the latest one. Ruby ecosystem: Rubygems, Bundler, Gemfile, Gemfile.lock rubygems is the overall ecosystem, which includes the main rubygems.org database of shared packages, and how they depend upon each other.</p></div><a href=../../../articles/2020/looking_at_gemfiles/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2019/splitting_git_repos_and_workdirectories/>Splitting Git Repos and Work Directories</a></p><p class="lead font-italic mb-0">all the fun things git can do</p><div class="font-weight-light mt-3"><p>I found a tutorial on how to manage your dotfiles, that works by splitting up the git repository (normally the .git directory) from the work directory. Since I have a lot of code that I put in my tutorials, I adapted the technique to have individual article directories mirrored in their own github repository.
Repositories and Work Directories The normal usage of git is to type git clone &lt;remote> to get a copy of the local directory, mess with stuff, and then add and commit your changes.</p></div><a href=../../../articles/2019/splitting_git_repos_and_workdirectories/ class="btn btn-primary">Read more</a></div></div></div><footer class="footer bg-dark text-light mt-3"><div class=container><h2 class="py-5 font-weight-light my-0">Made in Brooklyn, NY.</h2></div></footer></body></html>