<!DOCTYPE html>
<html><head>
  <title>Adding Facebook Login with react</title>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../../css/theme.css"/>
  <link rel="stylesheet" href="../../../css/syntax.css"/>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-56296045-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  <meta property="og:title" content="Adding Facebook Login with react" />
<meta property="og:description" content="Sometimes you just can&rsquo;t get away from facebook. Here&rsquo;s a quick tutorial on how to add facebook login to your react app.
First you need to create a facebook app, which is an involved process especially if you want to let, you know, other people log in to your app. Getting your app approved and otherwise up and running here is left as an excersize for you to figure out." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://willschenk.com/articles/2018/adding_facebook_login_with_react/" />
<meta property="article:published_time" content="2018-10-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-10-30T00:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Adding Facebook Login with react"/>
<meta name="twitter:description" content="Sometimes you just can&rsquo;t get away from facebook. Here&rsquo;s a quick tutorial on how to add facebook login to your react app.
First you need to create a facebook app, which is an involved process especially if you want to let, you know, other people log in to your app. Getting your app approved and otherwise up and running here is left as an excersize for you to figure out."/>
<meta name="twitter:site" content="@wschenk"/>


  <style>
    .article p, .article ul, .article ol, .article table {
      max-width: 45em;
    }

    .article pre p {
    max-width: none;
    margin-top: -1.5rem;
    }

    article.article p:first-child, .article blockquote {
      font-size: 1.25em;
      font-weight: 300;
      max-width: 36em;  
    }
  </style>
</head>
<body><nav class="container my-5">
  <h1 class="pt-md-5 display-3"><a class="text-dark" href="../../../">Will Schenk</a></h1>
  <p>
    
      <a class="text-dark h4 mr-3 font-weight-light" href="../../../articles/" title="">Articles</a>
    
      <a class="text-dark h4 mr-3 font-weight-light" href="../../../contact" title="">Contact</a>
    
      <a class="text-dark h4 mr-3 font-weight-light" href="../../../tags/" title="">Tags</a>
    
    <a href="../../../feed.xml" class="mr-3 h4 text-light"><img src="../../../img/rss.svg" alt="rss" height="20" width="20"/></a>
    
      <a href="https://twitter.com/@wschenk" class="mr-3 h4 text-light"><img src="../../../img/twitter.svg" alt="twitter" height="20" width="20"/></a>
    
    
      <a href="https://instagram.com/wschenk" class="mr-3 h4 text-light"><img src="../../../img/instagram.svg" alt="instagram" height="20" width="20"/></a>
    
    
      <a href="https://github.com/wschenk" class="mr-3 h4 text-light"><img src="../../../img/github.svg" alt="github" height="20" width="20"/></a>
    
    
      <a href="https://linkedin.com/in/will-schenk-420266" class="mr-3 h4 text-light"><img src="../../../img/linkedin.svg" alt="linkedin" height="20" width="20"/></a>
    
  </p>
</nav>

<div class="container">
  <h1 class="mt-5">Adding Facebook Login with react</h1>

  
    <h2 class="font-weight-light font-italic mb-3">you can&rsquo;t escape it</h2>
  

  <p class="text-muted mt-3">
    <a class="text-muted" href="https://willschenk.com/articles/2018/adding_facebook_login_with_react/">Published October 30, 2018</a>

    
      <a class="text-muted" href="../../../tags/howto">#howto</a>
    
      <a class="text-muted" href="../../../tags/facebook">#facebook</a>
    
      <a class="text-muted" href="../../../tags/react">#react</a>
    
  </p>

  

  

  <article class="article mt-5">
    

<p>Sometimes you just can&rsquo;t get away from facebook.  Here&rsquo;s a quick tutorial on how to add facebook login to your react app.</p>

<p>First you need to <a href="https://developers.facebook.com/docs/apps#register">create a facebook app</a>, which is an involved process especially if you want to let, you know, other people log in to your app.  Getting your app approved and otherwise up and running here is left as an excersize for you to figure out.</p>

<p>In the navigation menu:</p>

<ol>
<li>click + Add Product</li>
<li>locate the Facebook Login product</li>
<li>click Set Up</li>
<li>Add web</li>
<li>Enter in the url for your site</li>
<li>Note your app id</li>
</ol>

<h2 id="create-your-react-app">Create your react app</h2>

<p>Then create a simple react app to test it out to make sure that the basics are wired up.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ npx create-react-app facebook-login-test
$ <span class="nb">cd</span> facebook-login-test</code></pre></div>
<p>Add the <code>react-facebook-login</code> npm package.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ yarn add react-facebook-login</code></pre></div>
<p>Now lets start up the server running under https, since Facebook will start rejecting api calls that arent from a secure site.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nv">HTTPS</span><span class="o">=</span><span class="nb">true</span> yarn run start</code></pre></div>
<p>We test it the facebook integration with some sample code in <code>App.js</code>.  Replace your <code>appId</code> with what you had before.</p>
<div class="highlight"><pre class="chroma"><code class="language-jsx" data-lang="jsx"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">FacebookLoginWithButton</span> <span class="nx">from</span> <span class="s1">&#39;react-facebook-login&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">responseFacebook</span> <span class="o">=</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">componentClicked</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="s2">&#34;Clicked!&#34;</span> <span class="p">)</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">FacebookLoginWithButton</span>
      <span class="na">appId</span><span class="o">=</span><span class="s">&#34;1206715649505081&#34;</span>
      <span class="na">autoLoad</span>
      <span class="na">fields</span><span class="o">=</span><span class="s">&#34;name,email,picture&#34;</span>
      <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">componentClicked</span><span class="p">}</span>
      <span class="na">callback</span><span class="o">=</span><span class="p">{</span><span class="nx">responseFacebook</span><span class="p">}</span>
      <span class="na">icon</span><span class="o">=</span><span class="s">&#34;fa-facebook&#34;</span><span class="p">/&gt;</span>
    <span class="p">)</span>
<span class="p">}</span></code></pre></div>
<p>Now if you click on the link you should be able to see that the <code>responseFacebook</code> function being called with the users information that was requested.  Hopefully you were able to see your account information! Since we have <code>autoLoad={true}</code> when you refresh the page <code>responseFacebook</code> will also be triggered on load since it detects that you already granted permission to your site.  Setting this to <code>false</code> will force the user to click again to initiate the process.</p>

<h2 id="a-slightly-more-elaborate-example">A slightly more elaborate example</h2>

<p>I&rsquo;ve talked about using <a href="https://willschenk.com/articles/2017/authenticated_routes_using_react_router/">Authenticated Routes Using React Router</a> and if you want a more thorough explication that would be a good place to start.  But quickly, lets just display the Facebook button if we don&rsquo;t know who you are, and then a simple card once we have your information.</p>
<div class="highlight"><pre class="chroma"><code class="language-jsx" data-lang="jsx"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">FacebookLoginWithButton</span> <span class="nx">from</span> <span class="s1">&#39;react-facebook-login&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">componentClicked</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="s2">&#34;Clicked!&#34;</span> <span class="p">)</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">LoginButton</span> <span class="o">=</span> <span class="p">({</span><span class="nx">facebookResponse</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="p">&lt;</span><span class="nt">FacebookLoginWithButton</span>
    <span class="na">appId</span><span class="o">=</span><span class="s">&#34;1206715649505081&#34;</span>
    <span class="err">//</span> <span class="na">autoLoad</span>
    <span class="na">fields</span><span class="o">=</span><span class="s">&#34;name,email,picture&#34;</span>
    <span class="na">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">componentClicked</span><span class="p">}</span>
    <span class="na">callback</span><span class="o">=</span><span class="p">{</span><span class="nx">facebookResponse</span><span class="p">}</span>
    <span class="na">icon</span><span class="o">=</span><span class="s">&#34;fa-facebook&#34;</span><span class="p">/&gt;</span>
  <span class="p">)</span>


<span class="kr">const</span> <span class="nx">UserScreen</span> <span class="o">=</span> <span class="p">({</span><span class="nx">user</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Welcome</span> <span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">!</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;{</span> <span class="nx">user</span><span class="p">.</span><span class="nx">email</span> <span class="p">}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">picture</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span> <span class="na">height</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">picture</span><span class="p">.</span><span class="nx">height</span><span class="p">}</span> <span class="na">width</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">picture</span><span class="p">.</span><span class="nx">width</span><span class="p">}</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;avatar&#34;</span><span class="p">/&gt;</span>
  <span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="p">)</span>

<span class="kr">class</span> <span class="nx">App</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="o">:</span><span class="kc">false</span><span class="p">}</span>
  <span class="nx">facebookResponse</span> <span class="o">=</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">response</span> <span class="p">);</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span> <span class="p">{...</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">,</span> <span class="nx">user</span><span class="o">:</span> <span class="nx">response</span> <span class="p">}</span> <span class="p">)</span> <span class="p">}</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="p">{{</span> <span class="nx">margin</span><span class="o">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span> <span class="nx">textAlign</span><span class="o">:</span> <span class="s2">&#34;center&#34;</span><span class="p">,</span> <span class="nx">paddingTop</span><span class="o">:</span> <span class="s2">&#34;2em&#34;</span> <span class="p">}}&gt;</span>
        <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">user</span> <span class="o">?</span> <span class="p">&lt;</span><span class="nt">UserScreen</span> <span class="na">user</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">user</span><span class="p">}/&gt;</span> <span class="o">:</span>
          <span class="p">&lt;</span><span class="nt">LoginButton</span> <span class="na">facebookResponse</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">facebookResponse</span><span class="p">}/&gt;</span>
        <span class="p">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">App</span></code></pre></div>
<hr />

<p>References:</p>

<ol>
<li><a href="https://developers.facebook.com/docs/apps#register">https://developers.facebook.com/docs/apps#register</a> - Facebook documentation on registering an application</li>
<li><a href="https://github.com/keppelen/react-facebook-login">https://github.com/keppelen/react-facebook-login</a> - The react plugin</li>
</ol>

  </article>

  
</div>


  <div class="bg-light py-5">
    <div class="container">
      <h2 class="text-center">Read next</h2>

      <div class="row">
        <div class="col-md-6 text-center">
          
            Next Post:
            <a href="../../../articles/2018/implementing_serverless_oauth/">Implementing Serverless OAuth</a>
          
        </div>
        <div class="col-md-6 text-center">
          
            Previous Post:
            <a href="../../../articles/2018/automating_hugo_with_circleci/">Automating hugo builds using CircleCI</a>
          
        </div>
      </div>
    </div>
  </div>




<div class="container mt-5">
  <h2 class="text-center">See also</h2>
  <div class="row">
  	
      <div class="col-md mb-3">
        <p class="lead mb-0"><a class="text-body" href="../../../articles/2017/authenticated_routes_using_react_router/">Authenticated routes using react-router</a></p>

        
        <div class="font-weight-light mt-3">
          
          
            <p>Here&rsquo;s a simple walk through on how to use authenticated routes with react-router.</p>
          
        </div>
        <a href="../../../articles/2017/authenticated_routes_using_react_router/" class="btn btn-primary">Read more</a>
      </div>
    
      <div class="col-md mb-3">
        <p class="lead mb-0"><a class="text-body" href="../../../articles/2017/styling_and_theming_with_material_ui_react__material_design/">Styling and theming with material-ui: React + Material Design</a></p>

        
        <div class="font-weight-light mt-3">
          
          
            <p>We’ve looked at building and styling with rmwc, now lets look a the king of the React Material libraries, Material-UI!
The implementation strategy here is different — instead of including a generated CSS file that applies to all of the elements, each component includes the CSS that it needs in an isolated way. import Button from ‘material-ui/Button’; will include all of the necessary CSS to render that element. This is done with webpack basically.</p>
          
        </div>
        <a href="../../../articles/2017/styling_and_theming_with_material_ui_react__material_design/" class="btn btn-primary">Read more</a>
      </div>
    
      <div class="col-md mb-3">
        <p class="lead mb-0"><a class="text-body" href="../../../articles/2017/styling_and_theming_with_rmwc_react__material_design/">Styling and theming with rmwc: React + Material Design</a></p>

        
        <div class="font-weight-light mt-3">
          
          
            <p>There are a couple of good material design libraries out there, and I’m going to build a basic site with create-react-app to test out how to really make them work. Material design released a new version of their web components, and we’re going to look at a few React libraries that will help us use them.
Material Components For Web These components were written in SASS and JS. There are various ways to customize them and build your design.</p>
          
        </div>
        <a href="../../../articles/2017/styling_and_theming_with_rmwc_react__material_design/" class="btn btn-primary">Read more</a>
      </div>
    
  </div>
</div>


<footer class="footer bg-dark text-light mt-3">
  <div class="container">
    <h2 class="py-5 font-weight-light my-0">Made in Brooklyn, NY.</h2>
  </div>
</footer>
</body>
</html>
