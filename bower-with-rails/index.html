<!DOCTYPE html>
<html class='no-js'>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <title>Bower with Rails | Blank Page Tech</title>
    <meta name="site" content="Blank Page Tech" />
    <meta name="og:site_name" content="Blank Page Tech" />
    <meta name="title" content="Bower with Rails" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Bower with Rails" />
    <meta name="twitter:site" content="@wschenk" />
    <meta name="og:title" content="Bower with Rails" />
    <meta content='width=device-width' name='viewport'>
    <link href="../stylesheets/application-c2e1d785.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/webicons-da5ecace.css" rel="stylesheet" type="text/css" /><link href="../stylesheets/googlecode-d3629bf4.css" rel="stylesheet" type="text/css" />
    <link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/default.min.css' rel='stylesheet'>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body data-spy='scroll' data-target='.sidebar'>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
      <div class='visible-xs-block'>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapsable">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">
        Blank Page Tech
      </a>
        
      </div>
    </div>
    <div class='hidden-xs'>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapsable">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">
        Technology for the blank page
      </a>
        
      </div>
    </div>
    <div class="collapse navbar-collapse" id="navbar-collapsable">
      <ul class="nav navbar-nav navbar-right foo" id="menu">
      <li>
      <a href="/articles/">
        Articles
      </a>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Topics <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li>
      <a href="/tags/howto/">
        Howtos
      </a>
    </li>
    <li>
      <a href="/tags/overview/">
        Overviews
      </a>
    </li>
    <li>
      <a href="/tags/product/">
        Product
      </a>
    </li>
    <li>
      <a href="/tags/tools/">
        Tools
      </a>
    </li>
    <li>
      <a href="/tags/socialinvestigator/">
        Social Investigator
      </a>
    </li>
    <li>
      <a href="/tags/ruby/">
        Ruby & Rails
      </a>
    </li>
    
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tags <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li>
      <a href="/bootstrap-advanced-grid-tricks/">
        bootstrap (1)
      </a>
    </li>
    <li>
      <a href="/tags/bots/">
        bots (2)
      </a>
    </li>
    <li>
      <a href="/using-rake-for-dataflow-programming-and-data-science/">
        data (1)
      </a>
    </li>
    <li>
      <a href="/osx-script-for-kiosk-mode/">
        gaze (1)
      </a>
    </li>
    <li>
      <a href="/using-seed-to-explore/">
        github (1)
      </a>
    </li>
    <li>
      <a href="/pulling-data-out-of-google-analytics/">
        googleanalytics (1)
      </a>
    </li>
    <li>
      <a href="/tags/happy_seed/">
        happy_seed (4)
      </a>
    </li>
    <li>
      <a href="/tags/howto/">
        howto (17)
      </a>
    </li>
    <li class="active">
      <a href="/bower-with-rails/">
        javascript (1)
      </a>
    </li>
    <li>
      <a href="/tags/middleman/">
        middleman (6)
      </a>
    </li>
    <li>
      <a href="/setting-up-devise-with-twitter-and-facebook-and-other-omniauth-schemes-without-email-addresses/">
        oauth (1)
      </a>
    </li>
    <li>
      <a href="/tags/osx/">
        osx (2)
      </a>
    </li>
    <li>
      <a href="/tags/overview/">
        overview (4)
      </a>
    </li>
    <li>
      <a href="/tags/product/">
        product (2)
      </a>
    </li>
    <li>
      <a href="/tags/rails/">
        rails (5)
      </a>
    </li>
    <li>
      <a href="/tags/rake/">
        rake (2)
      </a>
    </li>
    <li>
      <a href="/building-a-gui-for-managing-middleman-blogs/">
        react (1)
      </a>
    </li>
    <li>
      <a href="/how-to-track-your-coworkers/">
        redis (1)
      </a>
    </li>
    <li>
      <a href="/tags/ruby/">
        ruby (16)
      </a>
    </li>
    <li>
      <a href="/receiving-posted-json-with-sinatra/">
        sinatra (1)
      </a>
    </li>
    <li>
      <a href="/tags/socialinvestigator/">
        socialinvestigator (4)
      </a>
    </li>
    <li>
      <a href="/dateslice-writing-rails-extensions/">
        sql (1)
      </a>
    </li>
    <li>
      <a href="/field-of-dreams-is-25-years-old-and-hasn-t-aged-well/">
        startupmyths (1)
      </a>
    </li>
    <li>
      <a href="/tags/static_sites/">
        static_sites (2)
      </a>
    </li>
    <li>
      <a href="/setting-up-testing/">
        testing (1)
      </a>
    </li>
    <li>
      <a href="/making-a-command-line-utility-with-gems-and-thor/">
        thor (1)
      </a>
    </li>
    <li>
      <a href="/tags/tools/">
        tools (5)
      </a>
    </li>
    <li>
      <a href="/tags/toys/">
        toys (5)
      </a>
    </li>
    
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Archives <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li>
      <a href="/inflight-internet/">
        Dec 2015 (1)
      </a>
    </li>
    <li>
      <a href="/using-seed-to-explore/">
        Sep 2015 (1)
      </a>
    </li>
    <li>
      <a href="/2015/07/">
        Jul 2015 (3)
      </a>
    </li>
    <li>
      <a href="/adding-search-to-a-middleman-blog/">
        Jun 2015 (1)
      </a>
    </li>
    <li>
      <a href="/2015/05/">
        May 2015 (2)
      </a>
    </li>
    <li>
      <a href="/why-engineers-build-crappy-products/">
        Feb 2015 (1)
      </a>
    </li>
    <li>
      <a href="/2015/01/">
        Jan 2015 (2)
      </a>
    </li>
    <li>
      <a href="/2014/12/">
        Dec 2014 (5)
      </a>
    </li>
    <li>
      <a href="/2014/11/">
        Nov 2014 (10)
      </a>
    </li>
    <li>
      <a href="/how-to-track-your-coworkers/">
        Oct 2014 (1)
      </a>
    </li>
    
      </ul>
    </li>
    
    </ul>
    <form class='navbar-form navbar-right' id='search' role='search'>
      <div class='form-group dropdown'>
        <div class='input-group'>
          <input autocomplete='off' class='form-control' id='search_box' placeholder='Search' type='text'>
          <span class='input-group-btn'>
            <button class='btn btn-default'>
              <span class='glyphicon glyphicon-search'></span>
            </button>
          </span>
        </div>
        <ul class='dropdown-menu dropdown-menu-left results'>
          <a href="/url">Title</a>
        </ul>
      </div>
    </form>
    
    </div>
    
    </div>
    </nav>
    <div class='banner'>
      <img class="fadeInDown animated" src="../images/train_hat-965116c8.jpg" />
    </div>
    <div class='article-header lighter '>
      <h1>Bower with Rails</h1>
      <h2>Javascript dependancies and sprockets</h2>
      <div class='tags'>
        <div class='tag'><a class="btn btn-primary" href="/tags/javascript/">javascript</a></div>
        <div class='tag'><a class="btn btn-primary" href="/tags/rails/">rails</a></div>
      </div>
      <a href='#comment_shower' id='comment_shower_scroll'>
        <span class='disqus-comment-count' data-disqus-identifier='2015-07-25-bower-with-rails.html'></span>
      </a>
    </div>
    <div class='content'>
      <div class='row'>
        <div class='sidebar'>
          <ul class='nav toc' data-offset-top='400' data-spy='affix'>
            <li><a href="#top">Bower with Rails</a></li>
            <li><a href="#install-bower">Install Bower</a></li>
            <li><a href="#setup-bower">Setup Bower</a></li>
            <li><a href="#tell-rails-where-to-look">Tell rails where to look</a></li>
            <li><a href="#small-walk-through">Small walk through</a></li>
            <li><a href="#to-check-in-or-not-to-check-in">To check in or not to check in</a></li>
          </ul>
        </div>
        <div class='article' id='top'>
          <p>Let&#39;s look at how we can integrate bower with rails and Sprockets. <a href="http://bower.io">Bower</a> is one of the two major javascript package managers, the other being the Node Package Manager, or <a href="https://www.npmjs.com">npm</a>.  The biggest difference between the two is how the javascript is packaged up.  Bower is the more straightforward of the two, and it mainly a way to distribute javascript and keep things up to date.</p>
          
          <h2 id="install-bower">Install Bower</h2>
          
          <p>The first step is to install bower.  Ironically, we need to use npm to do that!  On OSX, the easiest way is to use the <a href="http://brew.sh">Homebrew</a></p>
          
          <pre><code class="sh">$ brew install node&#x000A;</code></pre>
          
          <p>Then let&#39;s install bower in your local command path so you can run it.</p>
          
          <pre><code class="sh">$ npm install -g bower&#x000A;</code></pre>
          
          <h2 id="setup-bower">Setup Bower</h2>
          
          <p>Now let&#39;s setup rails to work with bower.  This section assumes that you already have a rails application.</p>
          
          <pre><code class="sh">cd rails_application&#x000A;</code></pre>
          
          <p>Create a <code>.bowerrc</code> file. This is going to tell bower where to install the packages it needs, and we&#39;re going to say put it in <code>vendor/assets/bower_components</code>:</p>
          
          <pre><code class="json">{&#x000A;  &quot;directory&quot;: &quot;vendor/assets/bower_components&quot;&#x000A;}&#x000A;</code></pre>
          
          <p>Now run <code>bower init</code> to create a <code>bower.json</code> file.  This file is similar to a <code>Gemfile</code>, in that it lists out the dependancies, and when you run bower again, it will download the specific versions from the intertubes.</p>
          
          <h2 id="tell-rails-where-to-look">Tell rails where to look</h2>
          
          <p>Inside of <code>config/application.rb</code> we&#39;re going to tell spockets and additional directory to look for javascript components.</p>
          
          <pre><code class="rb">config.assets.paths &lt;&lt; Rails.root.join(&#39;vendor&#39;, &#39;assets&#39;, &#39;bower_components&#39;)&#x000A;</code></pre>
          
          <h2 id="small-walk-through">Small walk through</h2>
          
          <p>Let&#39;s say you want to use Google Maps with Angular.  <a href="http://angular-ui.github.io/angular-google-maps/#!/">angular-google-maps</a> is a package that does a lot of the heavy lifting for you, so lets install that.  We&#39;re going to tell bower to keep track of the packages we want inside of our <code>bower.json</code> file by passing in the <code>--save</code> option:</p>
          
          <pre><code>$ bower install --save angular-google-maps&#x000A;[...]&#x000A;angular-google-maps#2.1.5 vendor/assets/bower_components/angular-google-maps&#x000A;├── angular#1.4.3&#x000A;└── lodash#3.10.0&#x000A;&#x000A;lodash#3.10.0 vendor/assets/bower_components/lodash&#x000A;&#x000A;angular#1.4.3 vendor/assets/bower_components/angular&#x000A;</code></pre>
          
          <p>I&#39;ve cleaned up some of the output, but you can see that bower installed angular-google-maps and it&#39;s dependancies, angular itself and lodash.  Lets go to our <code>application.js</code> file now to tell Sprockets that we want to use this awesome stuff:</p>
          
          <pre><code class="js">//= require lodash&#x000A;//= require angular&#x000A;//= require angular-google-maps&#x000A;</code></pre>
          
          <p>Since we&#39;ve added <code>vendor/assets/bower_components</code> in Sprockets load path, it should be able to find all of these files.  Notice that you don&#39;t need to know where to get all of the dependancies from, but you do need to make sure that you specify them in your <code>application.js</code> in the right order.  We&#39;ll be talking about <code>browersify</code> in future posts that assuages this issue.</p>
          
          <h2 id="to-check-in-or-not-to-check-in">To check in or not to check in</h2>
          
          <p>I prefer to check in the dependancies inside of my source control.  This isn&#39;t necessary and in some ways is a waste of disk space, but I think it&#39;s easier to figure out what&#39;s going on if there&#39;s less magic.  This can be confusion if you start to make local tweaks of the javascript, which you should never do.</p>
          
          <p>However, it&#39;s not necessary to check things in if you expand your build process a bit.  If you look inside of your <code>bower.json</code> file, you&#39;ll see that it specifies the specific version of the bower package that you installed.</p>
          
          <pre><code class="js">{&#x000A;  &quot;name&quot;: &quot;rails_app&quot;,&#x000A;  &quot;version&quot;: &quot;0.0.0&quot;,&#x000A;  &quot;authors&quot;: [&#x000A;    &quot;Will Schenk &lt;wschenk@gmail.com&gt;&quot;&#x000A;  ],&#x000A;  &quot;license&quot;: &quot;MIT&quot;,&#x000A;  &quot;ignore&quot;: [&#x000A;    &quot;**/.*&quot;,&#x000A;    &quot;node_modules&quot;,&#x000A;    &quot;bower_components&quot;,&#x000A;    &quot;test&quot;,&#x000A;    &quot;tests&quot;&#x000A;  ],&#x000A;  &quot;dependencies&quot;: {&#x000A;    &quot;angular-google-maps&quot;: &quot;~2.1.5&quot;&#x000A;  }&#x000A;}&#x000A;</code></pre>
          
          <p>This should contain all the information needed so that when you run <code>bower install</code> again, all of the correct versions of the files will be downloaded.  You could make it part of your build process, much like how running <code>bundle install</code> is part of the standard rails build pack.  Bundler looks through <code>Gemfile.lock</code> and installs those specific packages.  The version is always specified inside of <code>bower.json</code> so there doesn&#39;t need to be two files.</p>
        </div>
        <div class='navigation' data-offset-top='400' data-spy='affix'>
          <div class='next'>
            <p>
              Next in
              <a href="/articles/">Chronological</a>
            </p>
            <p class='title'><a href="/receiving-posted-json-with-sinatra/">Receiving posted JSON with Sinatra</a></p>
            <p>
              Next in
              <a href="/tags/rails/">Rails</a>
            </p>
            <p class='title'><a href="/using-seed-to-explore/">Using seed to explore APIs</a></p>
          </div>
          <div class='prev'>
            <p>
              Previously in
              <a href="/articles/">Chronological</a>
            </p>
            <p class='title'><a href="/adding-search-to-a-middleman-blog/">Adding search to a middleman blog</a></p>
            <p>
              Previously in
              <a href="/tags/rails/">Rails</a>
            </p>
            <p class='title'><a href="/setting-up-testing/">Setting up Rails testing with rspec, devise, and the gang</a></p>
          </div>
        </div>
      </div>
      <div class="row article_footer">
        <div class="comments">
            <a href="#" id="comment_shower">
              <p class="disqus-comment-count" data-disqus-identifier="2015-07-25-bower-with-rails.html">Be the first to comment.</p>
            </a>
        </div>
        <div class="sharing">
          <a href="http://www.twitter.com/share?url=http://willschenk.com/bower-with-rails/&amp;text=Bower with Rails by @wschenk" title="Share this post on Twitter" data-lang="en" onclick="return !window.open(this.href, 'Twitter', 'width=640,height=300')" class="webicon twitter"></a>
      
          <a target="_blank" onclick="return !window.open(this.href, 'Facebook', 'width=640,height=300')" href="http://www.facebook.com/sharer/sharer.php?u=http://willschenk.com/bower-with-rails/" title="Share this post on Facebook" class="webicon facebook"></a>
      
          <a href="http://plus.google.com/share?url=http://willschenk.com/bower-with-rails/" target="_blank" onclick="return !window.open(this.href, 'Google +', 'width=640,height=300')" title="Share this post on Google +" class="webicon google"></a>
        </div>
      </div>
        <div class="comment_row">
          <div class="comment_universe">
            <div id="disqus_thread" class="col-sm-10 col-sm-offset-1"></div>
          </div>
        </div>
    </div>
    <footer class='codex'>
      <div class='container'>
        <div class='row'>
          <div class='logo'>
            <a href='http://codex.happyfuncorp.com/'>
              <img src="../images/ted-16edc59a.png" />
              <img src="../images/codex_logo-02a37740.png" />
            </a>
          </div>
        </div>
        <div class='row'>
          <div class='body'>
            <h3>
              If you find this blog helpful, check out
              <a href='http://codex.happyfuncorp.com/'>
                codex
              </a>
            </h3>
            <p>Product, development, design and a whole slew of other things you need to know.</p>
            <p>
              From the fancy folks at
              <a href="http://happyfuncorp.com">HappyFunCorp</a>
            </p>
          </div>
        </div>
      </div>
    </footer>
    <footer class='footer lighter '>
      <div class='container'>
        <div class='row'>
          <div class='social'>
            <span>
              <a class='webicon twitter' href='http://twitter.com/wschenk'></a>
            </span>
            <span>
              <a class='webicon tumblr' href='http://sublimeguile.com/'></a>
            </span>
            <span>
              <a class='webicon instagram' href='http://instagram.com/wschenk'></a>
            </span>
            <span>
              <a class='webicon linkedin' href='http://www.linkedin.com/pub/will-schenk/0/266/420/'></a>
            </span>
            <span>
              <a class='webicon github' href='https://github.com/wschenk'></a>
            </span>
            <span>
              <a class='webicon rss' href='http://willschenk.com/feed.xml'></a>
            </span>
            <span>
              <a class='webicon mail' href='mailto:will@happyfuncorp.com'></a>
            </span>
          </div>
          <div class='made_in_bk'>
            <h3>Made in Brooklyn, NY</h3>
          </div>
        </div>
      </div>
    </footer>
    <script src="../javascripts/application-b5017286.js" type="text/javascript"></script><script src="../javascripts/modernizr-84a49412.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
    <script type="text/javascript">
      var _gaq=[['_setAccount','UA-56296045-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
    
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
      $(".article img").addClass( "img-responsive");
      $("iframe").map( function(e) {
        $(this).css( "max-width", $(this).width() );
        $(this).width( "100%" );
      });
      var _gaq=[['_setAccount','UA-56296045-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
      var disqus_shortname = 'willschenk';
      var disqus_url = 'http://willschenk.com/bower-with-rails/';
        var disqus_identifier = '2015-07-25-bower-with-rails.html';
            
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
      (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
  </body>
</html>
